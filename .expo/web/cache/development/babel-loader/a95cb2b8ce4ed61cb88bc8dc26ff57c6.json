{"ast":null,"code":"import _get from \"lodash/get\";\nimport _find from \"lodash/find\";\nimport _isArray from \"lodash/isArray\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _isFunction from \"lodash/isFunction\";\nimport _join from \"lodash/join\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _map from \"lodash/map\";\nimport _flow from \"lodash/flow\";\nimport _keyBy from \"lodash/keyBy\";\nimport { useCallback, useMemo } from 'react';\nvar usePickerLabel = function usePickerLabel(props) {\n  var value = props.value,\n    items = props.items,\n    getLabel = props.getLabel,\n    getItemLabel = props.getItemLabel,\n    placeholder = props.placeholder;\n  var getLabelsFromArray = useCallback(function (value) {\n    var itemsByValue = _keyBy(items, 'value');\n    return _flow(function (arr) {\n      return _map(arr, function (item) {\n        var _itemsByValue$item;\n        return _isPlainObject(item) ? (getItemLabel == null ? void 0 : getItemLabel(item)) || (item == null ? void 0 : item.label) : (_itemsByValue$item = itemsByValue[item]) == null ? void 0 : _itemsByValue$item.label;\n      });\n    }, function (arr) {\n      return _join(arr, ', ');\n    })(value);\n  }, [getItemLabel]);\n  var _getLabel = useCallback(function (value) {\n    if (_isFunction(getLabel) && !_isUndefined(getLabel(value))) {\n      return getLabel(value);\n    }\n    if (_isArray(value)) {\n      return getLabelsFromArray(value);\n    }\n    if (typeof value === 'object') {\n      return value == null ? void 0 : value.label;\n    }\n    var selectedItem = _find(items, {\n      value: value\n    });\n    return _get(selectedItem, 'label');\n  }, [getLabelsFromArray]);\n  var accessibilityInfo = useMemo(function () {\n    var label = _getLabel(value);\n    return {\n      accessibilityLabel: label ? placeholder + \". selected. \" + label : \"Select \" + placeholder,\n      accessibilityHint: label ? 'Double tap to edit' : \"Goes to \" + placeholder + \". Suggestions will be provided\"\n    };\n  }, [value]);\n  return {\n    getLabelsFromArray: getLabelsFromArray,\n    getLabel: _getLabel,\n    accessibilityInfo: accessibilityInfo,\n    label: _getLabel(value)\n  };\n};\nexport default usePickerLabel;","map":{"version":3,"names":["_get","_find","_isArray","_isUndefined","_isFunction","_join","_isPlainObject","_map","_flow","_keyBy","useCallback","useMemo","usePickerLabel","props","value","items","getLabel","getItemLabel","placeholder","getLabelsFromArray","itemsByValue","arr","item","label","_getLabel","selectedItem","accessibilityInfo","accessibilityLabel","accessibilityHint"],"sources":["C:/Users/Alex/Documents/development/Rabbit/node_modules/react-native-ui-lib/src/components/picker/helpers/usePickerLabel.js"],"sourcesContent":["import _get from \"lodash/get\";\nimport _find from \"lodash/find\";\nimport _isArray from \"lodash/isArray\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _isFunction from \"lodash/isFunction\";\nimport _join from \"lodash/join\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _map from \"lodash/map\";\nimport _flow from \"lodash/flow\";\nimport _keyBy from \"lodash/keyBy\";\nimport { useCallback, useMemo } from 'react';\nconst usePickerLabel = props => {\n  const {\n    value,\n    items,\n    getLabel,\n    getItemLabel,\n    placeholder\n  } = props;\n  const getLabelsFromArray = useCallback(value => {\n    const itemsByValue = _keyBy(items, 'value');\n    return _flow(arr => _map(arr, item => _isPlainObject(item) ? getItemLabel?.(item) || item?.label : itemsByValue[item]?.label), arr => _join(arr, ', '))(value);\n  }, [getItemLabel]);\n  const _getLabel = useCallback(value => {\n    if (_isFunction(getLabel) && !_isUndefined(getLabel(value))) {\n      return getLabel(value);\n    }\n    if (_isArray(value)) {\n      return getLabelsFromArray(value);\n    }\n    if (typeof value === 'object') {\n      return value?.label;\n    }\n\n    // otherwise, extract from picker items\n    const selectedItem = _find(items, {\n      value\n    });\n    return _get(selectedItem, 'label');\n  }, [getLabelsFromArray]);\n  const accessibilityInfo = useMemo(() => {\n    const label = _getLabel(value);\n    return {\n      accessibilityLabel: label ? `${placeholder}. selected. ${label}` : `Select ${placeholder}`,\n      accessibilityHint: label ? 'Double tap to edit' : `Goes to ${placeholder}. Suggestions will be provided`\n    };\n  }, [value]);\n  return {\n    getLabelsFromArray,\n    getLabel: _getLabel,\n    accessibilityInfo,\n    label: _getLabel(value)\n  };\n};\nexport default usePickerLabel;"],"mappings":"AAAA,OAAOA,IAAI,MAAM,YAAY;AAC7B,OAAOC,KAAK,MAAM,aAAa;AAC/B,OAAOC,QAAQ,MAAM,gBAAgB;AACrC,OAAOC,YAAY,MAAM,oBAAoB;AAC7C,OAAOC,WAAW,MAAM,mBAAmB;AAC3C,OAAOC,KAAK,MAAM,aAAa;AAC/B,OAAOC,cAAc,MAAM,sBAAsB;AACjD,OAAOC,IAAI,MAAM,YAAY;AAC7B,OAAOC,KAAK,MAAM,aAAa;AAC/B,OAAOC,MAAM,MAAM,cAAc;AACjC,SAASC,WAAW,EAAEC,OAAO,QAAQ,OAAO;AAC5C,IAAMC,cAAc,GAAG,SAAjBA,cAAc,CAAGC,KAAK,EAAI;EAC9B,IACEC,KAAK,GAKHD,KAAK,CALPC,KAAK;IACLC,KAAK,GAIHF,KAAK,CAJPE,KAAK;IACLC,QAAQ,GAGNH,KAAK,CAHPG,QAAQ;IACRC,YAAY,GAEVJ,KAAK,CAFPI,YAAY;IACZC,WAAW,GACTL,KAAK,CADPK,WAAW;EAEb,IAAMC,kBAAkB,GAAGT,WAAW,CAAC,UAAAI,KAAK,EAAI;IAC9C,IAAMM,YAAY,GAAGX,MAAM,CAACM,KAAK,EAAE,OAAO,CAAC;IAC3C,OAAOP,KAAK,CAAC,UAAAa,GAAG;MAAA,OAAId,IAAI,CAACc,GAAG,EAAE,UAAAC,IAAI;QAAA;QAAA,OAAIhB,cAAc,CAACgB,IAAI,CAAC,GAAG,CAAAL,YAAY,oBAAZA,YAAY,CAAGK,IAAI,CAAC,MAAIA,IAAI,oBAAJA,IAAI,CAAEC,KAAK,0BAAGH,YAAY,CAACE,IAAI,CAAC,qBAAlB,mBAAoBC,KAAK;MAAA,EAAC;IAAA,GAAE,UAAAF,GAAG;MAAA,OAAIhB,KAAK,CAACgB,GAAG,EAAE,IAAI,CAAC;IAAA,EAAC,CAACP,KAAK,CAAC;EAChK,CAAC,EAAE,CAACG,YAAY,CAAC,CAAC;EAClB,IAAMO,SAAS,GAAGd,WAAW,CAAC,UAAAI,KAAK,EAAI;IACrC,IAAIV,WAAW,CAACY,QAAQ,CAAC,IAAI,CAACb,YAAY,CAACa,QAAQ,CAACF,KAAK,CAAC,CAAC,EAAE;MAC3D,OAAOE,QAAQ,CAACF,KAAK,CAAC;IACxB;IACA,IAAIZ,QAAQ,CAACY,KAAK,CAAC,EAAE;MACnB,OAAOK,kBAAkB,CAACL,KAAK,CAAC;IAClC;IACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MAC7B,OAAOA,KAAK,oBAALA,KAAK,CAAES,KAAK;IACrB;IAGA,IAAME,YAAY,GAAGxB,KAAK,CAACc,KAAK,EAAE;MAChCD,KAAK,EAALA;IACF,CAAC,CAAC;IACF,OAAOd,IAAI,CAACyB,YAAY,EAAE,OAAO,CAAC;EACpC,CAAC,EAAE,CAACN,kBAAkB,CAAC,CAAC;EACxB,IAAMO,iBAAiB,GAAGf,OAAO,CAAC,YAAM;IACtC,IAAMY,KAAK,GAAGC,SAAS,CAACV,KAAK,CAAC;IAC9B,OAAO;MACLa,kBAAkB,EAAEJ,KAAK,GAAML,WAAW,oBAAeK,KAAK,eAAeL,WAAa;MAC1FU,iBAAiB,EAAEL,KAAK,GAAG,oBAAoB,gBAAcL,WAAW;IAC1E,CAAC;EACH,CAAC,EAAE,CAACJ,KAAK,CAAC,CAAC;EACX,OAAO;IACLK,kBAAkB,EAAlBA,kBAAkB;IAClBH,QAAQ,EAAEQ,SAAS;IACnBE,iBAAiB,EAAjBA,iBAAiB;IACjBH,KAAK,EAAEC,SAAS,CAACV,KAAK;EACxB,CAAC;AACH,CAAC;AACD,eAAeF,cAAc"},"metadata":{},"sourceType":"module"}