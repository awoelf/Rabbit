{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport _times from \"lodash/times\";\nimport _throttle from \"lodash/throttle\";\nimport _isFunction from \"lodash/isFunction\";\nimport React, { useCallback, useContext, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Typography, Colors } from \"../../style\";\nimport Assets from \"../../assets\";\nimport Modal from \"../modal\";\nimport View from \"../view\";\nimport Text from \"../text\";\nimport Icon from \"../icon\";\nimport WheelPicker from \"../../incubator/WheelPicker\";\nimport PickerContext from \"./PickerContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar keyExtractor = function keyExtractor(_item, index) {\n  return index.toString();\n};\nvar PickerItemsList = function PickerItemsList(props) {\n  var _context$value;\n  var useWheelPicker = props.useWheelPicker,\n    topBarProps = props.topBarProps,\n    listProps = props.listProps,\n    children = props.children,\n    items = props.items,\n    showSearch = props.showSearch,\n    _props$searchStyle = props.searchStyle,\n    searchStyle = _props$searchStyle === void 0 ? {} : _props$searchStyle,\n    _props$searchPlacehol = props.searchPlaceholder,\n    searchPlaceholder = _props$searchPlacehol === void 0 ? 'Search...' : _props$searchPlacehol,\n    onSearchChange = props.onSearchChange,\n    renderCustomSearch = props.renderCustomSearch,\n    useSafeArea = props.useSafeArea,\n    testID = props.testID;\n  var context = useContext(PickerContext);\n  var _useState = useState((_context$value = context.value) != null ? _context$value : items == null ? void 0 : items[0].value),\n    _useState2 = _slicedToArray(_useState, 2),\n    wheelPickerValue = _useState2[0],\n    setWheelPickerValue = _useState2[1];\n  var renderSearchInput = function renderSearchInput() {\n    if (showSearch) {\n      if (_isFunction(renderCustomSearch)) {\n        return renderCustomSearch(props);\n      }\n      return _jsxs(View, {\n        style: styles.searchInputContainer,\n        children: [_jsx(Icon, {\n          style: styles.searchIcon,\n          tintColor: Colors.$iconDefault,\n          source: searchStyle.icon || Assets.icons.search\n        }), _jsx(TextInput, {\n          testID: testID,\n          style: [styles.searchInput, {\n            color: searchStyle.color\n          }],\n          placeholderTextColor: searchStyle.placeholderTextColor,\n          selectionColor: searchStyle.selectionColor,\n          placeholder: searchPlaceholder,\n          onChangeText: _throttle(onSearchChange, 300),\n          autoCorrect: false,\n          underlineColorAndroid: \"transparent\"\n        })]\n      });\n    }\n  };\n  var renderItem = useCallback(function (_ref) {\n    var index = _ref.index;\n    return React.Children.toArray(children)[index];\n  }, [children]);\n  var renderList = function renderList() {\n    return _jsx(FlatList, _objectSpread({\n      data: _times(React.Children.count(children)),\n      renderItem: renderItem,\n      keyExtractor: keyExtractor\n    }, listProps));\n  };\n  var renderWheel = function renderWheel() {\n    var _topBarProps$doneLabe;\n    return _jsxs(View, {\n      children: [_jsxs(View, {\n        row: true,\n        spread: true,\n        \"padding-page\": true,\n        children: [_jsx(Text, {\n          children: topBarProps.title\n        }), _jsx(Text, {\n          text70: true,\n          $textPrimary: true,\n          accessibilityRole: 'button',\n          onPress: function onPress() {\n            return context.onPress(wheelPickerValue);\n          },\n          children: (_topBarProps$doneLabe = topBarProps.doneLabel) != null ? _topBarProps$doneLabe : 'Select'\n        })]\n      }), _jsx(WheelPicker, {\n        initialValue: context.value,\n        items: items,\n        onChange: setWheelPickerValue\n      })]\n    });\n  };\n  return _jsxs(View, {\n    \"bg-$backgroundDefault\": true,\n    flex: true,\n    useSafeArea: useSafeArea,\n    children: [!useWheelPicker && _jsxs(_Fragment, {\n      children: [_jsx(Modal.TopBar, _objectSpread({}, topBarProps)), renderSearchInput(), renderList()]\n    }), useWheelPicker && renderWheel()]\n  });\n};\nvar styles = StyleSheet.create({\n  modalBody: {},\n  searchInputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingLeft: 16,\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderBottomColor: Colors.$outlineDefault\n  },\n  searchIcon: {\n    marginRight: 12\n  },\n  searchInput: _objectSpread({\n    height: 60,\n    paddingRight: 16,\n    flex: 1\n  }, Typography.text70)\n});\nexport default PickerItemsList;","map":{"version":3,"names":["_times","_throttle","_isFunction","React","useCallback","useContext","useState","Typography","Colors","Assets","Modal","View","Text","Icon","WheelPicker","PickerContext","keyExtractor","_item","index","toString","PickerItemsList","props","useWheelPicker","topBarProps","listProps","children","items","showSearch","searchStyle","searchPlaceholder","onSearchChange","renderCustomSearch","useSafeArea","testID","context","value","wheelPickerValue","setWheelPickerValue","renderSearchInput","styles","searchInputContainer","searchIcon","$iconDefault","icon","icons","search","searchInput","color","placeholderTextColor","selectionColor","renderItem","Children","toArray","renderList","count","renderWheel","title","onPress","doneLabel","StyleSheet","create","modalBody","flexDirection","alignItems","paddingLeft","borderBottomWidth","hairlineWidth","borderBottomColor","$outlineDefault","marginRight","height","paddingRight","flex","text70"],"sources":["C:/Users/Alex/Documents/development/Rabbit/node_modules/react-native-ui-lib/src/components/picker/PickerItemsList.js"],"sourcesContent":["import _times from \"lodash/times\";\nimport _throttle from \"lodash/throttle\";\nimport _isFunction from \"lodash/isFunction\";\nimport React, { useCallback, useContext, useState } from 'react';\nimport { StyleSheet, FlatList, TextInput } from 'react-native';\nimport { Typography, Colors } from \"../../style\";\nimport Assets from \"../../assets\";\nimport Modal from \"../modal\";\nimport View from \"../view\";\nimport Text from \"../text\";\nimport Icon from \"../icon\";\nimport WheelPicker from \"../../incubator/WheelPicker\";\nimport PickerContext from \"./PickerContext\";\nconst keyExtractor = (_item, index) => index.toString();\nconst PickerItemsList = props => {\n  const {\n    useWheelPicker,\n    topBarProps,\n    listProps,\n    children,\n    items,\n    showSearch,\n    searchStyle = {},\n    searchPlaceholder = 'Search...',\n    onSearchChange,\n    renderCustomSearch,\n    useSafeArea,\n    testID\n  } = props;\n  const context = useContext(PickerContext);\n  const [wheelPickerValue, setWheelPickerValue] = useState(context.value ?? items?.[0].value);\n  const renderSearchInput = () => {\n    if (showSearch) {\n      if (_isFunction(renderCustomSearch)) {\n        return renderCustomSearch(props);\n      }\n      return <View style={styles.searchInputContainer}>\n          <Icon style={styles.searchIcon} tintColor={Colors.$iconDefault} source={searchStyle.icon || Assets.icons.search} />\n          <TextInput testID={testID}\n        // ref={r => (this.search = r)}\n        style={[styles.searchInput, {\n          color: searchStyle.color\n        }]} placeholderTextColor={searchStyle.placeholderTextColor} selectionColor={searchStyle.selectionColor} placeholder={searchPlaceholder}\n        // @ts-expect-error\n        onChangeText={_throttle(onSearchChange, 300)} autoCorrect={false} underlineColorAndroid=\"transparent\" />\n        </View>;\n    }\n  };\n  const renderItem = useCallback(({\n    index\n  }) => {\n    return React.Children.toArray(children)[index];\n  }, [children]);\n  const renderList = () => {\n    return <FlatList data={_times(React.Children.count(children))}\n    // @ts-expect-error\n    renderItem={renderItem} keyExtractor={keyExtractor} {...listProps} />;\n  };\n  const renderWheel = () => {\n    return <View>\n        <View row spread padding-page>\n          <Text>{topBarProps.title}</Text>\n          <Text text70 $textPrimary accessibilityRole={'button'} onPress={() => context.onPress(wheelPickerValue)}>\n            {topBarProps.doneLabel ?? 'Select'}\n          </Text>\n        </View>\n        <WheelPicker initialValue={context.value} items={items} onChange={setWheelPickerValue} />\n      </View>;\n  };\n  return <View bg-$backgroundDefault flex useSafeArea={useSafeArea}>\n      {!useWheelPicker && <>\n          {<Modal.TopBar {...topBarProps} />}\n          {renderSearchInput()}\n          {renderList()}\n        </>}\n\n      {useWheelPicker && renderWheel()}\n    </View>;\n};\nconst styles = StyleSheet.create({\n  modalBody: {},\n  searchInputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingLeft: 16,\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderBottomColor: Colors.$outlineDefault\n  },\n  searchIcon: {\n    marginRight: 12\n  },\n  searchInput: {\n    height: 60,\n    paddingRight: 16,\n    flex: 1,\n    ...Typography.text70\n  }\n});\nexport default PickerItemsList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}