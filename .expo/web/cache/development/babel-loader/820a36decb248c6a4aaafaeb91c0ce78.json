{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport _isObject from \"lodash/isObject\";\nimport _isFunction from \"lodash/isFunction\";\nimport _keys from \"lodash/keys\";\nimport React, { Component, useCallback } from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { Colors } from \"../../style\";\nimport { Constants, asBaseComponent, forwardRef } from \"../../commons/new\";\nimport View from \"../view\";\nimport Image from \"../image\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar GRADIENT_WIDTH = 76;\nvar defaultImage = function defaultImage() {\n  return require(\"./assets/gradientOverlay.png\");\n};\nvar ScrollBar = function (_Component) {\n  _inherits(ScrollBar, _Component);\n  var _super = _createSuper(ScrollBar);\n  function ScrollBar(props) {\n    var _this;\n    _classCallCheck(this, ScrollBar);\n    _this = _super.call(this, props);\n    _this.scrollbar = undefined;\n    _this.itemsLayouts = {};\n    _this.contentOffset = 0;\n    _this.scrollContentWidth = 0;\n    _this.containerWidth = 0;\n    _this.focusIndex = function () {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var focusedItemLayout = _this.itemsLayouts[index];\n      if (focusedItemLayout) {\n        var x = focusedItemLayout.x,\n          width = focusedItemLayout.width;\n        if (x < _this.contentOffset) {\n          _this.scrollbar.scrollTo({\n            x: x - width\n          });\n        } else if (x + width > _this.contentOffset + _this.containerWidth) {\n          var offsetChange = Math.max(0, x - (_this.contentOffset + _this.containerWidth));\n          _this.scrollbar.scrollTo({\n            x: _this.contentOffset + offsetChange + width\n          });\n        }\n      }\n    };\n    _this.animateGradientOpacity = function (offsetX, contentWidth, containerWidth) {\n      var overflow = contentWidth - containerWidth;\n      var newValue = offsetX > 0 && offsetX >= overflow - 1 ? 0 : 1;\n      var newValueLeft = offsetX > 0 ? 1 : 0;\n      Animated.parallel([Animated.spring(_this.state.gradientOpacity, {\n        toValue: newValue,\n        speed: 20,\n        useNativeDriver: true\n      }), Animated.spring(_this.state.gradientOpacityLeft, {\n        toValue: newValueLeft,\n        speed: 20,\n        useNativeDriver: true\n      })]).start();\n    };\n    _this.onScroll = function (event) {\n      var _event$nativeEvent = event.nativeEvent,\n        layoutMeasurement = _event$nativeEvent.layoutMeasurement,\n        contentOffset = _event$nativeEvent.contentOffset,\n        contentSize = _event$nativeEvent.contentSize;\n      _this.contentOffset = contentOffset.x;\n      var offsetX = contentOffset.x;\n      var contentWidth = contentSize.width;\n      var containerWidth = layoutMeasurement.width;\n      _this.animateGradientOpacity(offsetX, contentWidth, containerWidth);\n      _this.props.onScroll == null ? void 0 : _this.props.onScroll(event);\n    };\n    _this.onContentSizeChange = function (contentWidth, contentHeight) {\n      if (_this.scrollContentWidth !== contentWidth) {\n        _this.scrollContentWidth = contentWidth;\n        if (contentWidth > _this.containerWidth) {\n          _this.setState({\n            gradientOpacity: new Animated.Value(1)\n          });\n        }\n        _this.props.onContentSizeChange == null ? void 0 : _this.props.onContentSizeChange(contentWidth, contentHeight);\n      }\n    };\n    _this.onLayout = function (event) {\n      _this.containerWidth = event.nativeEvent.layout.width;\n      _this.props.onLayout == null ? void 0 : _this.props.onLayout(event);\n      _this.setState({\n        gradientOpacity: new Animated.Value(_this.scrollContentWidth > _this.containerWidth ? 1 : 0)\n      });\n    };\n    _this.onItemLayout = function (_ref) {\n      var layout = _ref.layout,\n        index = _ref.index;\n      _this.itemsLayouts[index] = layout;\n      var _this$props = _this.props,\n        children = _this$props.children,\n        focusIndex = _this$props.focusIndex;\n      if (children && _keys(_this.itemsLayouts).length === _keys(children).length) {\n        _this.focusIndex(focusIndex);\n      }\n    };\n    _this.state = {\n      gradientOpacity: new Animated.Value(0),\n      gradientOpacityLeft: new Animated.Value(0)\n    };\n    return _this;\n  }\n  _createClass(ScrollBar, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var focusIndex = this.props.focusIndex;\n      if (prevProps.focusIndex !== focusIndex) {\n        this.focusIndex(focusIndex);\n      }\n    }\n  }, {\n    key: \"renderScrollable\",\n    value: function renderScrollable() {\n      var _this2 = this;\n      var _this$props2 = this.props,\n        useList = _this$props2.useList,\n        forwardedRef = _this$props2.forwardedRef,\n        children = _this$props2.children;\n      var Component = useList ? FlatList : ScrollView;\n      return _jsx(Component, _objectSpread(_objectSpread({\n        scrollEventThrottle: 100\n      }, this.props), {}, {\n        ref: function ref(r) {\n          _this2.scrollbar = r;\n          if (_isFunction(forwardedRef)) {\n            forwardedRef(r);\n          } else if (_isObject(forwardedRef)) {\n            forwardedRef.current = r;\n          }\n        },\n        horizontal: true,\n        showsHorizontalScrollIndicator: false,\n        onScroll: this.onScroll,\n        onContentSizeChange: this.onContentSizeChange,\n        children: children && React.Children.map(children, function (child, index) {\n          return _jsx(Item, {\n            onLayout: _this2.onItemLayout,\n            index: index,\n            children: child\n          });\n        })\n      }));\n    }\n  }, {\n    key: \"renderGradient\",\n    value: function renderGradient(left) {\n      var _this$state = this.state,\n        gradientOpacity = _this$state.gradientOpacity,\n        gradientOpacityLeft = _this$state.gradientOpacityLeft;\n      var _this$props3 = this.props,\n        gradientWidth = _this$props3.gradientWidth,\n        gradientHeight = _this$props3.gradientHeight,\n        gradientMargins = _this$props3.gradientMargins,\n        height = _this$props3.height,\n        gradientColor = _this$props3.gradientColor,\n        gradientImage = _this$props3.gradientImage;\n      var imageTransform = Constants.isRTL ? left ? undefined : [{\n        scaleX: -1\n      }] : left ? [{\n        scaleX: -1\n      }] : undefined;\n      var heightToUse = gradientHeight || height || '100%';\n      return _jsx(Animated.View, {\n        pointerEvents: \"none\",\n        style: {\n          opacity: left ? gradientOpacityLeft : gradientOpacity,\n          width: gradientWidth,\n          height: heightToUse,\n          position: 'absolute',\n          right: !left ? gradientMargins : undefined,\n          left: left ? gradientMargins : undefined\n        },\n        children: _jsx(Image, {\n          source: gradientImage || defaultImage(),\n          style: {\n            width: gradientWidth,\n            height: heightToUse,\n            tintColor: gradientColor,\n            transform: imageTransform\n          },\n          resizeMode: 'stretch'\n        })\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        containerView = _this$props4.containerView,\n        containerProps = _this$props4.containerProps;\n      var Container = containerView || View;\n      return _jsxs(Container, _objectSpread(_objectSpread({\n        row: true\n      }, containerProps), {}, {\n        onLayout: this.onLayout,\n        children: [this.renderScrollable(), this.renderGradient(false), this.renderGradient(true)]\n      }));\n    }\n  }]);\n  return ScrollBar;\n}(Component);\nScrollBar.displayName = 'ScrollBar';\nScrollBar.defaultProps = {\n  gradientWidth: GRADIENT_WIDTH,\n  gradientMargins: 0,\n  gradientColor: Colors.$backgroundDefault,\n  focusIndex: 0\n};\nvar Item = function Item(_ref2) {\n  var children = _ref2.children,\n    index = _ref2.index,\n    onLayout = _ref2.onLayout;\n  var onItemLayout = useCallback(function (_ref3) {\n    var layout = _ref3.nativeEvent.layout;\n    onLayout({\n      layout: layout,\n      index: index\n    });\n  }, [children]);\n  return _jsx(View, {\n    flexG: true,\n    onLayout: onItemLayout,\n    children: children\n  });\n};\nItem.displayName = 'IGNORE';\nScrollBar.Item = Item;\nexport default asBaseComponent(forwardRef(ScrollBar));","map":{"version":3,"names":["_isObject","_isFunction","_keys","React","Component","useCallback","Colors","Constants","asBaseComponent","forwardRef","View","Image","GRADIENT_WIDTH","defaultImage","require","ScrollBar","props","scrollbar","undefined","itemsLayouts","contentOffset","scrollContentWidth","containerWidth","focusIndex","index","focusedItemLayout","x","width","scrollTo","offsetChange","Math","max","animateGradientOpacity","offsetX","contentWidth","overflow","newValue","newValueLeft","Animated","parallel","spring","state","gradientOpacity","toValue","speed","useNativeDriver","gradientOpacityLeft","start","onScroll","event","nativeEvent","layoutMeasurement","contentSize","onContentSizeChange","contentHeight","setState","Value","onLayout","layout","onItemLayout","children","length","prevProps","useList","forwardedRef","FlatList","ScrollView","r","current","Children","map","child","left","gradientWidth","gradientHeight","gradientMargins","height","gradientColor","gradientImage","imageTransform","isRTL","scaleX","heightToUse","opacity","position","right","tintColor","transform","containerView","containerProps","Container","renderScrollable","renderGradient","displayName","defaultProps","$backgroundDefault","Item"],"sources":["C:/Users/Alex/Documents/development/Rabbit/node_modules/react-native-ui-lib/src/components/scrollBar/index.js"],"sourcesContent":["import _isObject from \"lodash/isObject\";\nimport _isFunction from \"lodash/isFunction\";\nimport _keys from \"lodash/keys\";\nimport React, { Component, useCallback } from 'react';\nimport { Animated, ScrollView, FlatList } from 'react-native';\nimport { Colors } from \"../../style\";\nimport { Constants, asBaseComponent, forwardRef } from \"../../commons/new\";\nimport View from \"../view\";\nimport Image from \"../image\";\nconst GRADIENT_WIDTH = 76;\nconst defaultImage = () => require(\"./assets/gradientOverlay.png\");\n\n/**\n * @description: Scrollable container with animated gradient overlay for horizontal scroll\n * @extends: ScrollView / FlatList\n */\n\nclass ScrollBar extends Component {\n  static displayName = 'ScrollBar';\n  static defaultProps = {\n    gradientWidth: GRADIENT_WIDTH,\n    gradientMargins: 0,\n    gradientColor: Colors.$backgroundDefault,\n    focusIndex: 0\n  };\n  constructor(props) {\n    super(props);\n    this.state = {\n      gradientOpacity: new Animated.Value(0),\n      gradientOpacityLeft: new Animated.Value(0)\n    };\n  }\n  scrollbar = undefined;\n  itemsLayouts = {};\n  contentOffset = 0;\n  scrollContentWidth = 0;\n  containerWidth = 0;\n  componentDidUpdate(prevProps) {\n    const {\n      focusIndex\n    } = this.props;\n    if (prevProps.focusIndex !== focusIndex) {\n      this.focusIndex(focusIndex);\n    }\n  }\n  focusIndex = (index = 0) => {\n    const focusedItemLayout = this.itemsLayouts[index];\n    if (focusedItemLayout) {\n      const {\n        x,\n        width\n      } = focusedItemLayout;\n      if (x < this.contentOffset) {\n        this.scrollbar.scrollTo({\n          x: x - width\n        });\n      } else if (x + width > this.contentOffset + this.containerWidth) {\n        const offsetChange = Math.max(0, x - (this.contentOffset + this.containerWidth));\n        this.scrollbar.scrollTo({\n          x: this.contentOffset + offsetChange + width\n        });\n      }\n    }\n  };\n  animateGradientOpacity = (offsetX, contentWidth, containerWidth) => {\n    const overflow = contentWidth - containerWidth;\n    const newValue = offsetX > 0 && offsetX >= overflow - 1 ? 0 : 1;\n    const newValueLeft = offsetX > 0 ? 1 : 0;\n    Animated.parallel([Animated.spring(this.state.gradientOpacity, {\n      toValue: newValue,\n      speed: 20,\n      useNativeDriver: true\n    }), Animated.spring(this.state.gradientOpacityLeft, {\n      toValue: newValueLeft,\n      speed: 20,\n      useNativeDriver: true\n    })]).start();\n  };\n  onScroll = event => {\n    const {\n      layoutMeasurement,\n      contentOffset,\n      contentSize\n    } = event.nativeEvent;\n    this.contentOffset = contentOffset.x;\n    const offsetX = contentOffset.x;\n    const contentWidth = contentSize.width;\n    const containerWidth = layoutMeasurement.width;\n    this.animateGradientOpacity(offsetX, contentWidth, containerWidth);\n    this.props.onScroll?.(event);\n  };\n  onContentSizeChange = (contentWidth, contentHeight) => {\n    if (this.scrollContentWidth !== contentWidth) {\n      this.scrollContentWidth = contentWidth;\n\n      // race condition - won't pass if onLayout() was not called before\n      if (contentWidth > this.containerWidth) {\n        this.setState({\n          gradientOpacity: new Animated.Value(1)\n        });\n      }\n      this.props.onContentSizeChange?.(contentWidth, contentHeight);\n    }\n  };\n  onLayout = event => {\n    this.containerWidth = event.nativeEvent.layout.width;\n    this.props.onLayout?.(event);\n    // 1 - for race condition, in case onContentSizeChange() is called before\n    // 0 - for containerWidth change, when onContentSizeChange() is called first\n    this.setState({\n      gradientOpacity: new Animated.Value(this.scrollContentWidth > this.containerWidth ? 1 : 0)\n    });\n  };\n  onItemLayout = ({\n    layout,\n    index\n  }) => {\n    this.itemsLayouts[index] = layout;\n    const {\n      children,\n      focusIndex\n    } = this.props;\n    if (children && _keys(this.itemsLayouts).length === _keys(children).length) {\n      this.focusIndex(focusIndex);\n    }\n  };\n  renderScrollable() {\n    const {\n      useList,\n      forwardedRef,\n      children\n    } = this.props;\n    const Component = useList ? FlatList : ScrollView;\n    return <Component scrollEventThrottle={100} {...this.props} ref={r => {\n      this.scrollbar = r;\n      if (_isFunction(forwardedRef)) {\n        forwardedRef(r);\n      } else if (_isObject(forwardedRef)) {\n        //@ts-ignore\n        forwardedRef.current = r;\n      }\n    }} horizontal showsHorizontalScrollIndicator={false} onScroll={this.onScroll} onContentSizeChange={this.onContentSizeChange}>\n        {children && React.Children.map(children, (child, index) => {\n        return <Item onLayout={this.onItemLayout} index={index}>\n                {child}\n              </Item>;\n      })}\n      </Component>;\n  }\n  renderGradient(left) {\n    const {\n      gradientOpacity,\n      gradientOpacityLeft\n    } = this.state;\n    const {\n      gradientWidth,\n      gradientHeight,\n      gradientMargins,\n      height,\n      gradientColor,\n      gradientImage\n    } = this.props;\n    const imageTransform = Constants.isRTL ? left ? undefined : [{\n      scaleX: -1\n    }] : left ? [{\n      scaleX: -1\n    }] : undefined;\n    const heightToUse = gradientHeight || height || '100%';\n    return <Animated.View pointerEvents=\"none\" style={{\n      opacity: left ? gradientOpacityLeft : gradientOpacity,\n      width: gradientWidth,\n      height: heightToUse,\n      position: 'absolute',\n      right: !left ? gradientMargins : undefined,\n      left: left ? gradientMargins : undefined\n    }}>\n        <Image source={gradientImage || defaultImage()} style={{\n        width: gradientWidth,\n        height: heightToUse,\n        tintColor: gradientColor,\n        transform: imageTransform\n      }} resizeMode={'stretch'} />\n      </Animated.View>;\n  }\n  render() {\n    const {\n      containerView,\n      containerProps\n    } = this.props;\n    const Container = containerView || View;\n    return <Container row {...containerProps} onLayout={this.onLayout}>\n        {this.renderScrollable()}\n        {this.renderGradient(false)}\n        {this.renderGradient(true)}\n      </Container>;\n  }\n}\nconst Item = ({\n  children,\n  index,\n  onLayout\n}) => {\n  const onItemLayout = useCallback(({\n    nativeEvent: {\n      layout\n    }\n  }) => {\n    onLayout({\n      layout,\n      index\n    });\n  }, [children]);\n  return <View flexG onLayout={onItemLayout}>\n      {children}\n    </View>;\n};\nItem.displayName = 'IGNORE';\nScrollBar.Item = Item;\nexport default asBaseComponent(forwardRef(ScrollBar));"],"mappings":"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"},"metadata":{},"sourceType":"module"}