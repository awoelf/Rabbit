{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useRef, useState, useMemo } from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport { HapticService, HapticType } from \"../../../services\";\nexport default (function (_ref) {\n  var visible = _ref.visible,\n    position = _ref.position,\n    _ref$toastHeight = _ref.toastHeight,\n    toastHeight = _ref$toastHeight === void 0 ? 500 : _ref$toastHeight,\n    onAnimationEnd = _ref.onAnimationEnd,\n    enableHapticFeedback = _ref.enableHapticFeedback,\n    setTimer = _ref.setTimer,\n    playAccessibilityFeatures = _ref.playAccessibilityFeatures;\n  var toastAnimatedValue = useRef(new Animated.Value(0));\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    isAnimating = _useState2[0],\n    setIsAnimating = _useState2[1];\n  var _onAnimationEnd = function _onAnimationEnd() {\n    if (visible) {\n      setTimer();\n    } else {\n      setIsAnimating(false);\n    }\n    playAccessibilityFeatures();\n    onAnimationEnd == null ? void 0 : onAnimationEnd(visible);\n  };\n  var toggleToast = function toggleToast() {\n    var show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      delay = _ref2.delay;\n    Animated.timing(toastAnimatedValue.current, {\n      toValue: Number(show),\n      duration: 300,\n      delay: delay,\n      easing: Easing.bezier(0.215, 0.61, 0.355, 1),\n      useNativeDriver: true\n    }).start(_onAnimationEnd);\n    if (enableHapticFeedback && show) {\n      HapticService.triggerHaptic(HapticType.impactMedium, 'Toast');\n    }\n    setIsAnimating(true);\n  };\n  var toastOpacity = toastAnimatedValue.current.interpolate({\n    inputRange: [0, 0.01, 1],\n    outputRange: [0, 1, 1]\n  });\n  var opacityStyle = useMemo(function () {\n    return {\n      opacity: toastOpacity\n    };\n  }, []);\n  var isTop = position === 'top';\n  var positionMultiplier = isTop ? -1 : 1;\n  var toastTranslateY = toastAnimatedValue.current.interpolate({\n    inputRange: [0, 1],\n    outputRange: [positionMultiplier * toastHeight, 0]\n  });\n  var translateStyle = useMemo(function () {\n    return {\n      transform: [{\n        translateY: toastTranslateY\n      }]\n    };\n  }, [toastHeight]);\n  return {\n    isAnimating: isAnimating,\n    toggleToast: toggleToast,\n    opacityStyle: opacityStyle,\n    translateStyle: translateStyle\n  };\n});","map":{"version":3,"names":["useRef","useState","useMemo","HapticService","HapticType","visible","position","toastHeight","onAnimationEnd","enableHapticFeedback","setTimer","playAccessibilityFeatures","toastAnimatedValue","Animated","Value","isAnimating","setIsAnimating","_onAnimationEnd","toggleToast","show","delay","timing","current","toValue","Number","duration","easing","Easing","bezier","useNativeDriver","start","triggerHaptic","impactMedium","toastOpacity","interpolate","inputRange","outputRange","opacityStyle","opacity","isTop","positionMultiplier","toastTranslateY","translateStyle","transform","translateY"],"sources":["C:/Users/Alex/Documents/development/Rabbit/node_modules/react-native-ui-lib/src/incubator/toast/helpers/useToastAnimation.js"],"sourcesContent":["import { useRef, useState, useMemo } from 'react';\nimport { Animated, Easing } from 'react-native';\nimport { HapticService, HapticType } from \"../../../services\";\nexport default (({\n  visible,\n  position,\n  toastHeight = 500,\n  onAnimationEnd,\n  enableHapticFeedback,\n  setTimer,\n  playAccessibilityFeatures\n}) => {\n  const toastAnimatedValue = useRef(new Animated.Value(0));\n  const [isAnimating, setIsAnimating] = useState();\n  const _onAnimationEnd = () => {\n    if (visible) {\n      setTimer();\n    } else {\n      setIsAnimating(false);\n    }\n    playAccessibilityFeatures();\n    onAnimationEnd?.(visible);\n  };\n  const toggleToast = (show = false, {\n    delay\n  } = {}) => {\n    Animated.timing(toastAnimatedValue.current, {\n      toValue: Number(show),\n      duration: 300,\n      delay,\n      easing: Easing.bezier(0.215, 0.61, 0.355, 1),\n      useNativeDriver: true\n    }).start(_onAnimationEnd);\n    if (enableHapticFeedback && show) {\n      HapticService.triggerHaptic(HapticType.impactMedium, 'Toast');\n    }\n    setIsAnimating(true);\n  };\n  const toastOpacity = toastAnimatedValue.current.interpolate({\n    inputRange: [0, 0.01, 1],\n    outputRange: [0, 1, 1]\n  });\n  const opacityStyle = useMemo(() => {\n    return {\n      opacity: toastOpacity\n    };\n  }, []);\n  const isTop = position === 'top';\n  const positionMultiplier = isTop ? -1 : 1;\n  const toastTranslateY = toastAnimatedValue.current.interpolate({\n    inputRange: [0, 1],\n    outputRange: [positionMultiplier * toastHeight, 0]\n  });\n  const translateStyle = useMemo(() => {\n    return {\n      transform: [{\n        translateY: toastTranslateY\n      }]\n    };\n  }, [toastHeight]);\n  return {\n    isAnimating,\n    toggleToast,\n    opacityStyle,\n    translateStyle\n  };\n});"],"mappings":";AAAA,SAASA,MAAM,EAAEC,QAAQ,EAAEC,OAAO,QAAQ,OAAO;AAAC;AAAA;AAElD,SAASC,aAAa,EAAEC,UAAU;AAClC,gBAAgB,gBAQV;EAAA,IAPJC,OAAO,QAAPA,OAAO;IACPC,QAAQ,QAARA,QAAQ;IAAA,wBACRC,WAAW;IAAXA,WAAW,iCAAG,GAAG;IACjBC,cAAc,QAAdA,cAAc;IACdC,oBAAoB,QAApBA,oBAAoB;IACpBC,QAAQ,QAARA,QAAQ;IACRC,yBAAyB,QAAzBA,yBAAyB;EAEzB,IAAMC,kBAAkB,GAAGZ,MAAM,CAAC,IAAIa,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;EACxD,gBAAsCb,QAAQ,EAAE;IAAA;IAAzCc,WAAW;IAAEC,cAAc;EAClC,IAAMC,eAAe,GAAG,SAAlBA,eAAe,GAAS;IAC5B,IAAIZ,OAAO,EAAE;MACXK,QAAQ,EAAE;IACZ,CAAC,MAAM;MACLM,cAAc,CAAC,KAAK,CAAC;IACvB;IACAL,yBAAyB,EAAE;IAC3BH,cAAc,oBAAdA,cAAc,CAAGH,OAAO,CAAC;EAC3B,CAAC;EACD,IAAMa,WAAW,GAAG,SAAdA,WAAW,GAEN;IAAA,IAFUC,IAAI,uEAAG,KAAK;IAAA,gFAE7B,CAAC,CAAC;MADJC,KAAK,SAALA,KAAK;IAELP,QAAQ,CAACQ,MAAM,CAACT,kBAAkB,CAACU,OAAO,EAAE;MAC1CC,OAAO,EAAEC,MAAM,CAACL,IAAI,CAAC;MACrBM,QAAQ,EAAE,GAAG;MACbL,KAAK,EAALA,KAAK;MACLM,MAAM,EAAEC,MAAM,CAACC,MAAM,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;MAC5CC,eAAe,EAAE;IACnB,CAAC,CAAC,CAACC,KAAK,CAACb,eAAe,CAAC;IACzB,IAAIR,oBAAoB,IAAIU,IAAI,EAAE;MAChChB,aAAa,CAAC4B,aAAa,CAAC3B,UAAU,CAAC4B,YAAY,EAAE,OAAO,CAAC;IAC/D;IACAhB,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;EACD,IAAMiB,YAAY,GAAGrB,kBAAkB,CAACU,OAAO,CAACY,WAAW,CAAC;IAC1DC,UAAU,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;IACxBC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;EACvB,CAAC,CAAC;EACF,IAAMC,YAAY,GAAGnC,OAAO,CAAC,YAAM;IACjC,OAAO;MACLoC,OAAO,EAAEL;IACX,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,IAAMM,KAAK,GAAGjC,QAAQ,KAAK,KAAK;EAChC,IAAMkC,kBAAkB,GAAGD,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC;EACzC,IAAME,eAAe,GAAG7B,kBAAkB,CAACU,OAAO,CAACY,WAAW,CAAC;IAC7DC,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IAClBC,WAAW,EAAE,CAACI,kBAAkB,GAAGjC,WAAW,EAAE,CAAC;EACnD,CAAC,CAAC;EACF,IAAMmC,cAAc,GAAGxC,OAAO,CAAC,YAAM;IACnC,OAAO;MACLyC,SAAS,EAAE,CAAC;QACVC,UAAU,EAAEH;MACd,CAAC;IACH,CAAC;EACH,CAAC,EAAE,CAAClC,WAAW,CAAC,CAAC;EACjB,OAAO;IACLQ,WAAW,EAAXA,WAAW;IACXG,WAAW,EAAXA,WAAW;IACXmB,YAAY,EAAZA,YAAY;IACZK,cAAc,EAAdA;EACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module"}