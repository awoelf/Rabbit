{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _excluded = [\"blurView\", \"enableModalBlur\", \"visible\", \"useGestureHandlerRootView\", \"useKeyboardAvoidingView\", \"keyboardAvoidingViewProps\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport _isFunction from \"lodash/isFunction\";\nimport React, { Component } from 'react';\nimport { GestureHandlerRootView } from 'react-native-gesture-handler';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport RNModal from \"react-native-web/dist/exports/Modal\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { BlurViewPackage } from \"../../optionalDependencies\";\nimport { Constants, asBaseComponent } from \"../../commons/new\";\nimport TopBar, { ModalTopBarProps } from \"./TopBar\";\nimport View from \"../../components/view\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar BlurView = BlurViewPackage == null ? void 0 : BlurViewPackage.BlurView;\nexport { ModalTopBarProps };\nvar Modal = function (_Component) {\n  _inherits(Modal, _Component);\n  var _super = _createSuper(Modal);\n  function Modal(props) {\n    var _this;\n    _classCallCheck(this, Modal);\n    _this = _super.call(this, props);\n    if (props.enableModalBlur && !BlurView) {\n      console.error(\"RNUILib Modal's \\\"enableModalBlur\\\" prop requires installing \\\"@react-native-community/blur\\\" dependency\");\n    }\n    return _this;\n  }\n  _createClass(Modal, [{\n    key: \"renderTouchableOverlay\",\n    value: function renderTouchableOverlay() {\n      var _this$props = this.props,\n        testID = _this$props.testID,\n        overlayBackgroundColor = _this$props.overlayBackgroundColor,\n        onBackgroundPress = _this$props.onBackgroundPress,\n        _this$props$accessibi = _this$props.accessibilityLabel,\n        accessibilityLabel = _this$props$accessibi === void 0 ? 'Dismiss' : _this$props$accessibi;\n      if (_isFunction(onBackgroundPress) || !!overlayBackgroundColor) {\n        var isScreenReaderEnabled = Constants.accessibility.isScreenReaderEnabled;\n        var accessibilityProps = isScreenReaderEnabled ? {\n          accessible: true,\n          accessibilityLabel: accessibilityLabel,\n          accessibilityRole: 'button'\n        } : undefined;\n        return _jsx(View, {\n          useSafeArea: isScreenReaderEnabled,\n          style: !isScreenReaderEnabled && [styles.touchableOverlay, {\n            backgroundColor: overlayBackgroundColor\n          }],\n          testID: testID + \".TouchableOverlay\",\n          children: _jsx(TouchableWithoutFeedback, _objectSpread(_objectSpread({}, accessibilityProps), {}, {\n            onPress: onBackgroundPress,\n            children: _jsx(View, {\n              style: isScreenReaderEnabled ? styles.accessibleOverlayView : styles.fill\n            })\n          }))\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        blurView = _this$props2.blurView,\n        enableModalBlur = _this$props2.enableModalBlur,\n        visible = _this$props2.visible,\n        useGestureHandlerRootView = _this$props2.useGestureHandlerRootView,\n        useKeyboardAvoidingView = _this$props2.useKeyboardAvoidingView,\n        keyboardAvoidingViewProps = _this$props2.keyboardAvoidingViewProps,\n        others = _objectWithoutProperties(_this$props2, _excluded);\n      var defaultContainer = enableModalBlur && Constants.isIOS && BlurView ? BlurView : View;\n      var useGestureHandler = useGestureHandlerRootView && Constants.isAndroid;\n      var GestureContainer = useGestureHandler ? GestureHandlerRootView : React.Fragment;\n      var gestureContainerProps = useGestureHandler ? {\n        style: styles.fill\n      } : {};\n      var useKeyboardAvoiding = useKeyboardAvoidingView && Constants.isIOS;\n      var KeyboardAvoidingContainer = useKeyboardAvoiding ? KeyboardAvoidingView : React.Fragment;\n      var keyboardAvoidingContainerProps = useKeyboardAvoiding ? _objectSpread(_objectSpread({\n        behavior: 'padding'\n      }, keyboardAvoidingViewProps), {}, {\n        style: [styles.fill, keyboardAvoidingViewProps == null ? void 0 : keyboardAvoidingViewProps.style]\n      }) : {};\n      var Container = blurView ? blurView : defaultContainer;\n      return _jsx(RNModal, _objectSpread(_objectSpread({\n        visible: Boolean(visible)\n      }, others), {}, {\n        children: _jsx(GestureContainer, _objectSpread(_objectSpread({}, gestureContainerProps), {}, {\n          children: _jsx(KeyboardAvoidingContainer, _objectSpread(_objectSpread({}, keyboardAvoidingContainerProps), {}, {\n            children: _jsxs(Container, {\n              style: styles.fill,\n              blurType: \"light\",\n              children: [this.renderTouchableOverlay(), this.props.children]\n            })\n          }))\n        }))\n      }));\n    }\n  }]);\n  return Modal;\n}(Component);\nModal.displayName = 'Modal';\nvar styles = StyleSheet.create({\n  touchableOverlay: _objectSpread({}, StyleSheet.absoluteFillObject),\n  fill: {\n    flex: 1\n  },\n  accessibleOverlayView: {\n    height: 50,\n    width: '100%'\n  }\n});\nModal.TopBar = TopBar;\nexport default asBaseComponent(Modal);","map":{"version":3,"names":["_isFunction","React","Component","GestureHandlerRootView","BlurViewPackage","Constants","asBaseComponent","TopBar","ModalTopBarProps","View","BlurView","Modal","props","enableModalBlur","console","error","testID","overlayBackgroundColor","onBackgroundPress","accessibilityLabel","isScreenReaderEnabled","accessibility","accessibilityProps","accessible","accessibilityRole","undefined","styles","touchableOverlay","backgroundColor","accessibleOverlayView","fill","blurView","visible","useGestureHandlerRootView","useKeyboardAvoidingView","keyboardAvoidingViewProps","others","defaultContainer","isIOS","useGestureHandler","isAndroid","GestureContainer","Fragment","gestureContainerProps","style","useKeyboardAvoiding","KeyboardAvoidingContainer","KeyboardAvoidingView","keyboardAvoidingContainerProps","behavior","Container","Boolean","renderTouchableOverlay","children","displayName","StyleSheet","create","absoluteFillObject","flex","height","width"],"sources":["C:/Users/Alex/Documents/development/Rabbit/node_modules/react-native-ui-lib/src/components/modal/index.js"],"sourcesContent":["import _isFunction from \"lodash/isFunction\";\nimport React, { Component } from 'react';\nimport { GestureHandlerRootView } from 'react-native-gesture-handler';\nimport { StyleSheet, Modal as RNModal, TouchableWithoutFeedback, KeyboardAvoidingView } from 'react-native';\nimport { BlurViewPackage } from \"../../optionalDependencies\";\nimport { Constants, asBaseComponent } from \"../../commons/new\";\nimport TopBar, { ModalTopBarProps } from \"./TopBar\";\nimport View from \"../../components/view\";\nconst BlurView = BlurViewPackage?.BlurView;\nexport { ModalTopBarProps };\n/**\n * @description: Component that present content on top of the invoking screen\n * @extends: Modal\n * @extendsLink: https://reactnative.dev/docs/modal\n * @gif: https://media.giphy.com/media/3oFzmfSX8KgvctI4Ks/giphy.gif\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/ModalScreen.tsx\n */\nclass Modal extends Component {\n  static displayName = 'Modal';\n  constructor(props) {\n    super(props);\n    if (props.enableModalBlur && !BlurView) {\n      console.error(`RNUILib Modal's \"enableModalBlur\" prop requires installing \"@react-native-community/blur\" dependency`);\n    }\n  }\n  renderTouchableOverlay() {\n    const {\n      testID,\n      overlayBackgroundColor,\n      onBackgroundPress,\n      accessibilityLabel = 'Dismiss'\n    } = this.props;\n    if (_isFunction(onBackgroundPress) || !!overlayBackgroundColor) {\n      const isScreenReaderEnabled = Constants.accessibility.isScreenReaderEnabled;\n      const accessibilityProps = isScreenReaderEnabled ? {\n        accessible: true,\n        accessibilityLabel,\n        accessibilityRole: 'button'\n      } : undefined;\n      return (\n        // @ts-ignore\n        <View useSafeArea={isScreenReaderEnabled} style={!isScreenReaderEnabled && [styles.touchableOverlay, {\n          backgroundColor: overlayBackgroundColor\n        }]} testID={`${testID}.TouchableOverlay`}>\n          {/*\n            // @ts-ignore */}\n          <TouchableWithoutFeedback {...accessibilityProps} onPress={onBackgroundPress}>\n            <View style={isScreenReaderEnabled ? styles.accessibleOverlayView : styles.fill} />\n          </TouchableWithoutFeedback>\n        </View>\n      );\n    }\n  }\n  render() {\n    const {\n      blurView,\n      enableModalBlur,\n      visible,\n      useGestureHandlerRootView,\n      useKeyboardAvoidingView,\n      keyboardAvoidingViewProps,\n      ...others\n    } = this.props;\n    const defaultContainer = enableModalBlur && Constants.isIOS && BlurView ? BlurView : View;\n    const useGestureHandler = useGestureHandlerRootView && Constants.isAndroid;\n    const GestureContainer = useGestureHandler ? GestureHandlerRootView : React.Fragment;\n    const gestureContainerProps = useGestureHandler ? {\n      style: styles.fill\n    } : {};\n    const useKeyboardAvoiding = useKeyboardAvoidingView && Constants.isIOS;\n    const KeyboardAvoidingContainer = useKeyboardAvoiding ? KeyboardAvoidingView : React.Fragment;\n    const keyboardAvoidingContainerProps = useKeyboardAvoiding ? {\n      behavior: 'padding',\n      ...keyboardAvoidingViewProps,\n      style: [styles.fill, keyboardAvoidingViewProps?.style]\n    } : {};\n    const Container = blurView ? blurView : defaultContainer;\n    return <RNModal visible={Boolean(visible)} {...others}>\n        <GestureContainer {...gestureContainerProps}>\n          <KeyboardAvoidingContainer {...keyboardAvoidingContainerProps}>\n            <Container style={styles.fill} blurType=\"light\">\n              {this.renderTouchableOverlay()}\n              {this.props.children}\n            </Container>\n          </KeyboardAvoidingContainer>\n        </GestureContainer>\n      </RNModal>;\n  }\n}\nconst styles = StyleSheet.create({\n  touchableOverlay: {\n    ...StyleSheet.absoluteFillObject\n  },\n  fill: {\n    flex: 1\n  },\n  accessibleOverlayView: {\n    height: 50,\n    width: '100%'\n  }\n});\nModal.TopBar = TopBar;\nexport default asBaseComponent(Modal);"],"mappings":"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"},"metadata":{},"sourceType":"module"}