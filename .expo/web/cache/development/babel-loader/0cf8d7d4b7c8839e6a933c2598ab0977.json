{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport isUndefined from 'lodash/isUndefined';\nimport React, { PureComponent } from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Constants, asBaseComponent } from \"../../commons/new\";\nimport { extractAccessibilityProps } from \"../../commons/modifiers\";\nimport View from \"../view\";\nimport { Colors, BorderRadiuses, Spacings } from \"../../style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar CONTAINER_HEIGHT = Spacings.s2;\nvar FULL_WIDTH_CONTAINER_HEIGHT = Spacings.s1;\nvar TABLET_CONTAINER_HEIGHT = 6;\nvar TABLET_FULL_WIDTH_CONTAINER_HEIGHT = 10;\nvar DEFAULT_COLOR = Colors.$backgroundPrimaryHeavy;\nvar ProgressBar = function (_PureComponent) {\n  _inherits(ProgressBar, _PureComponent);\n  var _super = _createSuper(ProgressBar);\n  function ProgressBar(props) {\n    var _this;\n    _classCallCheck(this, ProgressBar);\n    _this = _super.call(this, props);\n    _this.getContainerWidth = function (event) {\n      if (!_this.state.containerWidth) {\n        _this.setState({\n          containerWidth: event.nativeEvent.layout.width\n        });\n      }\n    };\n    _this.progressAnimation = new Animated.Value(props.progress || 0);\n    _this.state = {\n      containerWidth: undefined\n    };\n    return _this;\n  }\n  _createClass(ProgressBar, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var progress = this.props.progress;\n      if (prevProps.progress !== progress) {\n        this.animateProgress(progress);\n      }\n    }\n  }, {\n    key: \"animateProgress\",\n    value: function animateProgress(toValue) {\n      if (!isUndefined(toValue)) {\n        Animated.timing(this.progressAnimation, {\n          duration: 220,\n          easing: Easing.ease,\n          toValue: toValue,\n          useNativeDriver: true\n        }).start();\n      }\n    }\n  }, {\n    key: \"getAccessibilityProps\",\n    value: function getAccessibilityProps() {\n      var progress = this.props.progress;\n      if (progress) {\n        return _objectSpread({\n          accessible: true,\n          accessibilityLabel: \"progress bar. \" + Math.round(progress) + \"%\"\n        }, extractAccessibilityProps());\n      }\n    }\n  }, {\n    key: \"getContainerStyle\",\n    value: function getContainerStyle() {\n      var fullWidth = this.props.fullWidth;\n      var containerHeight = fullWidth ? FULL_WIDTH_CONTAINER_HEIGHT : CONTAINER_HEIGHT;\n      var tabletContainerHeight = fullWidth ? TABLET_FULL_WIDTH_CONTAINER_HEIGHT : TABLET_CONTAINER_HEIGHT;\n      var inlineStyle = fullWidth ? null : styles.inlineContainer;\n      return _objectSpread(_objectSpread({}, inlineStyle), {}, {\n        height: Constants.isTablet ? tabletContainerHeight : containerHeight\n      });\n    }\n  }, {\n    key: \"getProgressStyle\",\n    value: function getProgressStyle() {\n      var _this$props = this.props,\n        fullWidth = _this$props.fullWidth,\n        progressColor = _this$props.progressColor;\n      var borderRadius = fullWidth ? styles.fullWidthProgressBorderRadius : styles.inlineBorderRadius;\n      var progressStyle = {\n        right: Constants.isRTL ? undefined : this.state.containerWidth,\n        backgroundColor: progressColor || DEFAULT_COLOR\n      };\n      return _objectSpread(_objectSpread({}, borderRadius), progressStyle);\n    }\n  }, {\n    key: \"renderCustomElement\",\n    value: function renderCustomElement() {\n      var customElement = this.props.customElement;\n      if (customElement) {\n        return React.cloneElement(customElement, {\n          style: [customElement.props.style, styles.customElement]\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        style = _this$props2.style,\n        testID = _this$props2.testID;\n      var _this$state$container = this.state.containerWidth,\n        containerWidth = _this$state$container === void 0 ? 0 : _this$state$container;\n      var outputRange = Constants.isRTL ? [containerWidth, 0] : [0, containerWidth];\n      var newProgress = this.progressAnimation.interpolate({\n        inputRange: [0, 100],\n        outputRange: outputRange\n      });\n      return _jsx(View, _objectSpread(_objectSpread({\n        onLayout: this.getContainerWidth,\n        style: [styles.container, this.getContainerStyle(), style]\n      }, this.getAccessibilityProps()), {}, {\n        testID: testID,\n        children: !!containerWidth && _jsx(Animated.View, {\n          style: [styles.progress, this.getProgressStyle(), {\n            transform: [{\n              translateX: newProgress\n            }]\n          }],\n          children: this.renderCustomElement()\n        })\n      }));\n    }\n  }]);\n  return ProgressBar;\n}(PureComponent);\nProgressBar.displayName = 'ProgressBar';\nProgressBar.defaultProps = {\n  progress: 0\n};\nexport { ProgressBar };\nexport default asBaseComponent(ProgressBar);\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: Colors.$backgroundNeutralMedium,\n    overflow: 'hidden',\n    borderRadius: BorderRadiuses.br100\n  },\n  inlineContainer: {\n    borderRadius: BorderRadiuses.br100\n  },\n  progress: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    overflow: 'hidden'\n  },\n  customElement: {\n    height: '100%',\n    width: '100%'\n  },\n  inlineBorderRadius: {\n    borderRadius: BorderRadiuses.br100\n  },\n  fullWidthProgressBorderRadius: {\n    borderBottomRightRadius: BorderRadiuses.br100,\n    borderTopRightRadius: BorderRadiuses.br100\n  }\n});","map":{"version":3,"names":["isUndefined","React","PureComponent","Constants","asBaseComponent","extractAccessibilityProps","View","Colors","BorderRadiuses","Spacings","CONTAINER_HEIGHT","s2","FULL_WIDTH_CONTAINER_HEIGHT","s1","TABLET_CONTAINER_HEIGHT","TABLET_FULL_WIDTH_CONTAINER_HEIGHT","DEFAULT_COLOR","$backgroundPrimaryHeavy","ProgressBar","props","getContainerWidth","event","state","containerWidth","setState","nativeEvent","layout","width","progressAnimation","Animated","Value","progress","undefined","prevProps","animateProgress","toValue","timing","duration","easing","Easing","ease","useNativeDriver","start","accessible","accessibilityLabel","Math","round","fullWidth","containerHeight","tabletContainerHeight","inlineStyle","styles","inlineContainer","height","isTablet","progressColor","borderRadius","fullWidthProgressBorderRadius","inlineBorderRadius","progressStyle","right","isRTL","backgroundColor","customElement","cloneElement","style","testID","outputRange","newProgress","interpolate","inputRange","container","getContainerStyle","getAccessibilityProps","getProgressStyle","transform","translateX","renderCustomElement","displayName","defaultProps","StyleSheet","create","$backgroundNeutralMedium","overflow","br100","position","alignItems","justifyContent","borderBottomRightRadius","borderTopRightRadius"],"sources":["C:/Users/Alex/Documents/development/Rabbit/node_modules/react-native-ui-lib/src/components/progressBar/index.js"],"sourcesContent":["import isUndefined from 'lodash/isUndefined';\nimport React, { PureComponent } from 'react';\nimport { Animated, Easing, StyleSheet } from 'react-native';\nimport { Constants, asBaseComponent } from \"../../commons/new\";\nimport { extractAccessibilityProps } from \"../../commons/modifiers\";\nimport View from \"../view\";\nimport { Colors, BorderRadiuses, Spacings } from \"../../style\";\nconst CONTAINER_HEIGHT = Spacings.s2;\nconst FULL_WIDTH_CONTAINER_HEIGHT = Spacings.s1;\nconst TABLET_CONTAINER_HEIGHT = 6;\nconst TABLET_FULL_WIDTH_CONTAINER_HEIGHT = 10;\nconst DEFAULT_COLOR = Colors.$backgroundPrimaryHeavy;\n\n/**\n * @description: Progress bar\n * @example:https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/ProgressBarScreen.tsx\n */\n\nclass ProgressBar extends PureComponent {\n  static displayName = 'ProgressBar';\n  static defaultProps = {\n    progress: 0\n  };\n  constructor(props) {\n    super(props);\n    this.progressAnimation = new Animated.Value(props.progress || 0);\n    this.state = {\n      containerWidth: undefined\n    };\n  }\n  componentDidUpdate(prevProps) {\n    const {\n      progress\n    } = this.props;\n    if (prevProps.progress !== progress) {\n      this.animateProgress(progress);\n    }\n  }\n  getContainerWidth = event => {\n    if (!this.state.containerWidth) {\n      this.setState({\n        containerWidth: event.nativeEvent.layout.width\n      });\n    }\n  };\n  animateProgress(toValue) {\n    if (!isUndefined(toValue)) {\n      Animated.timing(this.progressAnimation, {\n        duration: 220,\n        easing: Easing.ease,\n        toValue,\n        useNativeDriver: true\n      }).start();\n    }\n  }\n  getAccessibilityProps() {\n    const {\n      progress\n    } = this.props;\n    if (progress) {\n      return {\n        accessible: true,\n        accessibilityLabel: `progress bar. ${Math.round(progress)}%`,\n        ...extractAccessibilityProps()\n      };\n    }\n  }\n  getContainerStyle() {\n    const {\n      fullWidth\n    } = this.props;\n    const containerHeight = fullWidth ? FULL_WIDTH_CONTAINER_HEIGHT : CONTAINER_HEIGHT;\n    const tabletContainerHeight = fullWidth ? TABLET_FULL_WIDTH_CONTAINER_HEIGHT : TABLET_CONTAINER_HEIGHT;\n    const inlineStyle = fullWidth ? null : styles.inlineContainer;\n    return {\n      ...inlineStyle,\n      height: Constants.isTablet ? tabletContainerHeight : containerHeight\n    };\n  }\n  getProgressStyle() {\n    const {\n      fullWidth,\n      progressColor\n    } = this.props;\n    const borderRadius = fullWidth ? styles.fullWidthProgressBorderRadius : styles.inlineBorderRadius;\n    const progressStyle = {\n      right: Constants.isRTL ? undefined : this.state.containerWidth,\n      backgroundColor: progressColor || DEFAULT_COLOR\n    };\n    return {\n      ...borderRadius,\n      ...progressStyle\n    };\n  }\n  renderCustomElement() {\n    const {\n      customElement\n    } = this.props;\n    if (customElement) {\n      return React.cloneElement(customElement, {\n        style: [customElement.props.style, styles.customElement]\n      });\n    }\n  }\n  render() {\n    const {\n      style,\n      testID\n    } = this.props;\n    const {\n      containerWidth = 0\n    } = this.state;\n    const outputRange = Constants.isRTL ? [containerWidth, 0] : [0, containerWidth];\n    const newProgress = this.progressAnimation.interpolate({\n      inputRange: [0, 100],\n      outputRange\n    });\n    return <View onLayout={this.getContainerWidth} style={[styles.container, this.getContainerStyle(), style]} {...this.getAccessibilityProps()} testID={testID}>\n        {!!containerWidth && <Animated.View style={[styles.progress, this.getProgressStyle(), {\n        transform: [{\n          translateX: newProgress\n        }]\n      }]}>\n            {this.renderCustomElement()}\n          </Animated.View>}\n      </View>;\n  }\n}\nexport { ProgressBar }; // For tests\nexport default asBaseComponent(ProgressBar);\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: Colors.$backgroundNeutralMedium,\n    overflow: 'hidden',\n    borderRadius: BorderRadiuses.br100\n  },\n  inlineContainer: {\n    borderRadius: BorderRadiuses.br100\n  },\n  progress: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    overflow: 'hidden'\n  },\n  customElement: {\n    height: '100%',\n    width: '100%'\n  },\n  inlineBorderRadius: {\n    borderRadius: BorderRadiuses.br100\n  },\n  fullWidthProgressBorderRadius: {\n    borderBottomRightRadius: BorderRadiuses.br100,\n    borderTopRightRadius: BorderRadiuses.br100\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}