{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _filter from \"lodash/filter\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport { useCallback, useState, useMemo } from 'react';\nimport { getItemLabel as getItemLabelPresenter, shouldFilterOut } from \"../PickerPresenter\";\nvar usePickerSearch = function usePickerSearch(props) {\n  var showSearch = props.showSearch,\n    onSearchChange = props.onSearchChange,\n    children = props.children,\n    getItemLabel = props.getItemLabel;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    searchValue = _useState2[0],\n    setSearchValue = _useState2[1];\n  var _onSearchChange = useCallback(function (searchValue) {\n    setSearchValue(searchValue);\n    onSearchChange == null ? void 0 : onSearchChange(searchValue);\n  }, [onSearchChange]);\n  var filteredChildren = useMemo(function () {\n    if (showSearch && !_isEmpty(searchValue)) {\n      return _filter(children, function (child) {\n        var _child$props = child.props,\n          label = _child$props.label,\n          value = _child$props.value,\n          childGetItemLabel = _child$props.getItemLabel;\n        var itemLabel = getItemLabelPresenter(label, value, childGetItemLabel || getItemLabel);\n        return !shouldFilterOut(searchValue, itemLabel);\n      });\n    }\n    return children;\n  }, [showSearch, searchValue, children]);\n  return {\n    setSearchValue: setSearchValue,\n    onSearchChange: _onSearchChange,\n    filteredChildren: filteredChildren\n  };\n};\nexport default usePickerSearch;","map":{"version":3,"names":["_filter","_isEmpty","useCallback","useState","useMemo","getItemLabel","getItemLabelPresenter","shouldFilterOut","usePickerSearch","props","showSearch","onSearchChange","children","searchValue","setSearchValue","_onSearchChange","filteredChildren","child","label","value","childGetItemLabel","itemLabel"],"sources":["C:/Users/Alex/Documents/development/Rabbit/node_modules/react-native-ui-lib/src/components/picker/helpers/usePickerSearch.js"],"sourcesContent":["import _filter from \"lodash/filter\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport { useCallback, useState, useMemo } from 'react';\nimport { getItemLabel as getItemLabelPresenter, shouldFilterOut } from \"../PickerPresenter\";\nconst usePickerSearch = props => {\n  const {\n    showSearch,\n    onSearchChange,\n    children,\n    getItemLabel\n  } = props;\n  const [searchValue, setSearchValue] = useState('');\n  const _onSearchChange = useCallback(searchValue => {\n    setSearchValue(searchValue);\n    onSearchChange?.(searchValue);\n  }, [onSearchChange]);\n  const filteredChildren = useMemo(() => {\n    if (showSearch && !_isEmpty(searchValue)) {\n      // @ts-expect-error need to fix children type\n      return _filter(children, child => {\n        // @ts-expect-error need to fix children type to be based on PickerItemProps\n        const {\n          label,\n          value,\n          getItemLabel: childGetItemLabel\n        } = child.props;\n        const itemLabel = getItemLabelPresenter(label, value, childGetItemLabel || getItemLabel);\n        return !shouldFilterOut(searchValue, itemLabel);\n      });\n    }\n    return children;\n  }, [showSearch, searchValue, children]);\n  return {\n    setSearchValue,\n    onSearchChange: _onSearchChange,\n    filteredChildren\n  };\n};\nexport default usePickerSearch;"],"mappings":";AAAA,OAAOA,OAAO,MAAM,eAAe;AACnC,OAAOC,QAAQ,MAAM,gBAAgB;AACrC,SAASC,WAAW,EAAEC,QAAQ,EAAEC,OAAO,QAAQ,OAAO;AACtD,SAASC,YAAY,IAAIC,qBAAqB,EAAEC,eAAe;AAC/D,IAAMC,eAAe,GAAG,SAAlBA,eAAe,CAAGC,KAAK,EAAI;EAC/B,IACEC,UAAU,GAIRD,KAAK,CAJPC,UAAU;IACVC,cAAc,GAGZF,KAAK,CAHPE,cAAc;IACdC,QAAQ,GAENH,KAAK,CAFPG,QAAQ;IACRP,YAAY,GACVI,KAAK,CADPJ,YAAY;EAEd,gBAAsCF,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA3CU,WAAW;IAAEC,cAAc;EAClC,IAAMC,eAAe,GAAGb,WAAW,CAAC,UAAAW,WAAW,EAAI;IACjDC,cAAc,CAACD,WAAW,CAAC;IAC3BF,cAAc,oBAAdA,cAAc,CAAGE,WAAW,CAAC;EAC/B,CAAC,EAAE,CAACF,cAAc,CAAC,CAAC;EACpB,IAAMK,gBAAgB,GAAGZ,OAAO,CAAC,YAAM;IACrC,IAAIM,UAAU,IAAI,CAACT,QAAQ,CAACY,WAAW,CAAC,EAAE;MAExC,OAAOb,OAAO,CAACY,QAAQ,EAAE,UAAAK,KAAK,EAAI;QAEhC,mBAIIA,KAAK,CAACR,KAAK;UAHbS,KAAK,gBAALA,KAAK;UACLC,KAAK,gBAALA,KAAK;UACSC,iBAAiB,gBAA/Bf,YAAY;QAEd,IAAMgB,SAAS,GAAGf,qBAAqB,CAACY,KAAK,EAAEC,KAAK,EAAEC,iBAAiB,IAAIf,YAAY,CAAC;QACxF,OAAO,CAACE,eAAe,CAACM,WAAW,EAAEQ,SAAS,CAAC;MACjD,CAAC,CAAC;IACJ;IACA,OAAOT,QAAQ;EACjB,CAAC,EAAE,CAACF,UAAU,EAAEG,WAAW,EAAED,QAAQ,CAAC,CAAC;EACvC,OAAO;IACLE,cAAc,EAAdA,cAAc;IACdH,cAAc,EAAEI,eAAe;IAC/BC,gBAAgB,EAAhBA;EACF,CAAC;AACH,CAAC;AACD,eAAeR,eAAe"},"metadata":{},"sourceType":"module"}