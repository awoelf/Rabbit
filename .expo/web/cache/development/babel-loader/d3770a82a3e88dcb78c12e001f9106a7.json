{"ast":null,"code":"import _isEmpty from \"lodash/isEmpty\";\nimport _isFunction from \"lodash/isFunction\";\nimport _forEach from \"lodash/forEach\";\nimport _isArray from \"lodash/isArray\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _isString from \"lodash/isString\";\nimport { Colors } from \"./../../style\";\nimport formValidators from \"./validators\";\nexport function getColorByState(color, context) {\n  var finalColor;\n  if (_isString(color)) {\n    finalColor = color;\n  } else if (Colors.isDesignToken(color)) {\n    finalColor = color == null ? void 0 : color.toString();\n  } else if (_isPlainObject(color)) {\n    if (context != null && context.disabled) {\n      finalColor = color == null ? void 0 : color.disabled;\n    } else if (!(context != null && context.isValid)) {\n      finalColor = color == null ? void 0 : color.error;\n    } else if (context != null && context.isFocused) {\n      finalColor = color == null ? void 0 : color.focus;\n    }\n    finalColor = finalColor || (color == null ? void 0 : color.default) || Colors.$textDefault;\n  }\n  return finalColor;\n}\nexport function validate(value, validator) {\n  if (_isUndefined(validator)) {\n    return [true, undefined];\n  }\n  var _isValid = true;\n  var _failingValidatorIndex;\n  var _validators = _isArray(validator) ? validator : [validator];\n  _forEach(_validators, function (validator, index) {\n    if (_isFunction(validator)) {\n      _isValid = validator(value);\n    } else if (_isString(validator)) {\n      var _formValidators$valid;\n      _isValid = (_formValidators$valid = formValidators[validator]) == null ? void 0 : _formValidators$valid.call(formValidators, value || '');\n    }\n    if (!_isValid) {\n      _failingValidatorIndex = index;\n      return false;\n    }\n  });\n  return [_isValid, _failingValidatorIndex];\n}\nexport function getRelevantValidationMessage(validationMessage, failingValidatorIndex) {\n  if (_isUndefined(failingValidatorIndex)) {\n    return validationMessage;\n  } else if (_isUndefined(validationMessage)) {\n    return;\n  }\n  if (_isString(validationMessage)) {\n    return validationMessage;\n  } else if (_isArray(validationMessage)) {\n    return validationMessage[failingValidatorIndex];\n  }\n}\nexport function shouldHidePlaceholder(_ref, isFocused) {\n  var floatingPlaceholder = _ref.floatingPlaceholder,\n    hint = _ref.hint,\n    floatOnFocus = _ref.floatOnFocus;\n  if (floatingPlaceholder) {\n    if (hint && isFocused) {\n      return !floatOnFocus;\n    }\n    return true;\n  } else {\n    return false;\n  }\n}\nexport function shouldPlaceholderFloat(_ref2, isFocused, hasValue, value) {\n  var defaultValue = _ref2.defaultValue,\n    floatOnFocus = _ref2.floatOnFocus;\n  var useDefaultValue = !_isEmpty(defaultValue) && value === undefined;\n  return floatOnFocus && isFocused || hasValue || useDefaultValue;\n}","map":{"version":3,"names":["_isEmpty","_isFunction","_forEach","_isArray","_isUndefined","_isPlainObject","_isString","Colors","formValidators","getColorByState","color","context","finalColor","isDesignToken","toString","disabled","isValid","error","isFocused","focus","default","$textDefault","validate","value","validator","undefined","_isValid","_failingValidatorIndex","_validators","index","getRelevantValidationMessage","validationMessage","failingValidatorIndex","shouldHidePlaceholder","floatingPlaceholder","hint","floatOnFocus","shouldPlaceholderFloat","hasValue","defaultValue","useDefaultValue"],"sources":["C:/Users/Alex/Documents/development/Rabbit/node_modules/react-native-ui-lib/src/incubator/TextField/Presenter.js"],"sourcesContent":["import _isEmpty from \"lodash/isEmpty\";\nimport _isFunction from \"lodash/isFunction\";\nimport _forEach from \"lodash/forEach\";\nimport _isArray from \"lodash/isArray\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _isString from \"lodash/isString\";\nimport { Colors } from \"./../../style\";\nimport formValidators from \"./validators\";\nexport function getColorByState(color, context) {\n  let finalColor;\n  if (_isString(color)) {\n    finalColor = color;\n  } else if (Colors.isDesignToken(color)) {\n    finalColor = color?.toString();\n  } else if (_isPlainObject(color)) {\n    if (context?.disabled) {\n      finalColor = color?.disabled;\n    } else if (!context?.isValid) {\n      finalColor = color?.error;\n    } else if (context?.isFocused) {\n      finalColor = color?.focus;\n    }\n    finalColor = finalColor || color?.default || Colors.$textDefault;\n  }\n  return finalColor;\n}\nexport function validate(value, validator) {\n  if (_isUndefined(validator)) {\n    return [true, undefined];\n  }\n  let _isValid = true;\n  let _failingValidatorIndex;\n  const _validators = _isArray(validator) ? validator : [validator];\n  _forEach(_validators, (validator, index) => {\n    if (_isFunction(validator)) {\n      _isValid = validator(value);\n    } else if (_isString(validator)) {\n      _isValid = formValidators[validator]?.(value || '');\n    }\n    if (!_isValid) {\n      _failingValidatorIndex = index;\n      return false;\n    }\n  });\n  return [_isValid, _failingValidatorIndex];\n}\nexport function getRelevantValidationMessage(validationMessage, failingValidatorIndex) {\n  if (_isUndefined(failingValidatorIndex)) {\n    return validationMessage;\n  } else if (_isUndefined(validationMessage)) {\n    return;\n  }\n  if (_isString(validationMessage)) {\n    return validationMessage;\n  } else if (_isArray(validationMessage)) {\n    return validationMessage[failingValidatorIndex];\n  }\n}\nexport function shouldHidePlaceholder({\n  floatingPlaceholder,\n  hint,\n  floatOnFocus\n}, isFocused) {\n  if (floatingPlaceholder) {\n    if (hint && isFocused) {\n      return !floatOnFocus;\n    }\n    return true;\n  } else {\n    return false;\n  }\n}\nexport function shouldPlaceholderFloat({\n  defaultValue,\n  floatOnFocus\n}, isFocused, hasValue, value) {\n  const useDefaultValue = !_isEmpty(defaultValue) && value === undefined; // To consider a user that has deleted the defaultValue (and then the placeholder should un-float when losing focus)\n  return floatOnFocus && isFocused || hasValue || useDefaultValue;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}