{"ast":null,"code":"import React, { useRef, useEffect, useCallback, useMemo } from 'react';\nimport View from \"../view\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar OverlayFadingBackground = function OverlayFadingBackground(_ref) {\n  var testID = _ref.testID,\n    dialogVisibility = _ref.dialogVisibility,\n    modalVisibility = _ref.modalVisibility,\n    overlayBackgroundColor = _ref.overlayBackgroundColor,\n    propsOnFadeDone = _ref.onFadeDone,\n    fadeOut = _ref.fadeOut;\n  var fadeAnimation = useRef(new Animated.Value(0)).current;\n  var isAnimating = useRef(false);\n  var onFadeDone = useCallback(function () {\n    isAnimating.current = false;\n    propsOnFadeDone == null ? void 0 : propsOnFadeDone();\n  }, [propsOnFadeDone]);\n  var animateFading = useCallback(function (toValue) {\n    isAnimating.current = true;\n    Animated.timing(fadeAnimation, {\n      toValue: toValue,\n      duration: 400,\n      useNativeDriver: true\n    }).start(onFadeDone);\n  }, [fadeAnimation, onFadeDone]);\n  useEffect(function () {\n    if (!isAnimating.current && (!dialogVisibility || fadeOut)) {\n      animateFading(0);\n    }\n  }, [dialogVisibility, animateFading, fadeOut]);\n  useEffect(function () {\n    if (modalVisibility) {\n      animateFading(1);\n    }\n  }, [modalVisibility, animateFading]);\n  var style = useMemo(function () {\n    return {\n      opacity: fadeAnimation,\n      backgroundColor: overlayBackgroundColor\n    };\n  }, [overlayBackgroundColor, fadeAnimation]);\n  return _jsx(View, {\n    testID: testID,\n    absF: true,\n    animated: true,\n    style: style,\n    pointerEvents: \"none\"\n  });\n};\nOverlayFadingBackground.displayName = 'IGNORE';\nexport default OverlayFadingBackground;","map":{"version":3,"names":["React","useRef","useEffect","useCallback","useMemo","View","OverlayFadingBackground","testID","dialogVisibility","modalVisibility","overlayBackgroundColor","propsOnFadeDone","onFadeDone","fadeOut","fadeAnimation","Animated","Value","current","isAnimating","animateFading","toValue","timing","duration","useNativeDriver","start","style","opacity","backgroundColor","displayName"],"sources":["C:/Users/Alex/Documents/development/Rabbit/node_modules/react-native-ui-lib/src/components/dialog/OverlayFadingBackground.js"],"sourcesContent":["import React, { useRef, useEffect, useCallback, useMemo } from 'react';\nimport View from \"../view\";\nimport { Animated } from 'react-native';\nconst OverlayFadingBackground = ({\n  testID,\n  dialogVisibility,\n  modalVisibility,\n  overlayBackgroundColor,\n  onFadeDone: propsOnFadeDone,\n  fadeOut\n}) => {\n  const fadeAnimation = useRef(new Animated.Value(0)).current;\n  const isAnimating = useRef(false);\n  const onFadeDone = useCallback(() => {\n    isAnimating.current = false;\n    propsOnFadeDone?.();\n  }, [propsOnFadeDone]);\n  const animateFading = useCallback(toValue => {\n    isAnimating.current = true;\n    Animated.timing(fadeAnimation, {\n      toValue,\n      duration: 400,\n      useNativeDriver: true\n    }).start(onFadeDone);\n  }, [fadeAnimation, onFadeDone]);\n  useEffect(() => {\n    if (!isAnimating.current && (!dialogVisibility || fadeOut)) {\n      animateFading(0);\n    }\n  }, [dialogVisibility, animateFading, fadeOut]);\n  useEffect(() => {\n    if (modalVisibility) {\n      animateFading(1);\n    }\n  }, [modalVisibility, animateFading]);\n  const style = useMemo(() => {\n    return {\n      opacity: fadeAnimation,\n      backgroundColor: overlayBackgroundColor\n    };\n  }, [overlayBackgroundColor, fadeAnimation]);\n  return <View testID={testID} absF animated style={style} pointerEvents=\"none\" />;\n};\nOverlayFadingBackground.displayName = 'IGNORE';\nexport default OverlayFadingBackground;"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,EAAEC,WAAW,EAAEC,OAAO,QAAQ,OAAO;AACtE,OAAOC,IAAI;AAAgB;AAAA;AAE3B,IAAMC,uBAAuB,GAAG,SAA1BA,uBAAuB,OAOvB;EAAA,IANJC,MAAM,QAANA,MAAM;IACNC,gBAAgB,QAAhBA,gBAAgB;IAChBC,eAAe,QAAfA,eAAe;IACfC,sBAAsB,QAAtBA,sBAAsB;IACVC,eAAe,QAA3BC,UAAU;IACVC,OAAO,QAAPA,OAAO;EAEP,IAAMC,aAAa,GAAGb,MAAM,CAAC,IAAIc,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO;EAC3D,IAAMC,WAAW,GAAGjB,MAAM,CAAC,KAAK,CAAC;EACjC,IAAMW,UAAU,GAAGT,WAAW,CAAC,YAAM;IACnCe,WAAW,CAACD,OAAO,GAAG,KAAK;IAC3BN,eAAe,oBAAfA,eAAe,EAAI;EACrB,CAAC,EAAE,CAACA,eAAe,CAAC,CAAC;EACrB,IAAMQ,aAAa,GAAGhB,WAAW,CAAC,UAAAiB,OAAO,EAAI;IAC3CF,WAAW,CAACD,OAAO,GAAG,IAAI;IAC1BF,QAAQ,CAACM,MAAM,CAACP,aAAa,EAAE;MAC7BM,OAAO,EAAPA,OAAO;MACPE,QAAQ,EAAE,GAAG;MACbC,eAAe,EAAE;IACnB,CAAC,CAAC,CAACC,KAAK,CAACZ,UAAU,CAAC;EACtB,CAAC,EAAE,CAACE,aAAa,EAAEF,UAAU,CAAC,CAAC;EAC/BV,SAAS,CAAC,YAAM;IACd,IAAI,CAACgB,WAAW,CAACD,OAAO,KAAK,CAACT,gBAAgB,IAAIK,OAAO,CAAC,EAAE;MAC1DM,aAAa,CAAC,CAAC,CAAC;IAClB;EACF,CAAC,EAAE,CAACX,gBAAgB,EAAEW,aAAa,EAAEN,OAAO,CAAC,CAAC;EAC9CX,SAAS,CAAC,YAAM;IACd,IAAIO,eAAe,EAAE;MACnBU,aAAa,CAAC,CAAC,CAAC;IAClB;EACF,CAAC,EAAE,CAACV,eAAe,EAAEU,aAAa,CAAC,CAAC;EACpC,IAAMM,KAAK,GAAGrB,OAAO,CAAC,YAAM;IAC1B,OAAO;MACLsB,OAAO,EAAEZ,aAAa;MACtBa,eAAe,EAAEjB;IACnB,CAAC;EACH,CAAC,EAAE,CAACA,sBAAsB,EAAEI,aAAa,CAAC,CAAC;EAC3C,OAAO,KAAC,IAAI;IAAC,MAAM,EAAEP,MAAO;IAAC,IAAI;IAAC,QAAQ;IAAC,KAAK,EAAEkB,KAAM;IAAC,aAAa,EAAC;EAAM,EAAG;AAClF,CAAC;AACDnB,uBAAuB,CAACsB,WAAW,GAAG,QAAQ;AAC9C,eAAetB,uBAAuB"},"metadata":{},"sourceType":"module"}