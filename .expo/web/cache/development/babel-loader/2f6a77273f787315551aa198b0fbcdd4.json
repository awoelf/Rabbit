{"ast":null,"code":"import _toLower from \"lodash/toLower\";\nimport _isEmpty from \"lodash/isEmpty\";\nfunction getPartsByHighlight() {\n  var targetString = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var highlightString = arguments.length > 1 ? arguments[1] : undefined;\n  if (typeof highlightString === 'string') {\n    if (_isEmpty(highlightString.trim())) {\n      return [{\n        string: targetString,\n        shouldHighlight: false\n      }];\n    }\n    return getTextPartsByHighlight(targetString, highlightString);\n  } else {\n    return getArrayPartsByHighlight(targetString, highlightString);\n  }\n}\nfunction getTextPartsByHighlight() {\n  var targetString = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var highlightString = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  if (highlightString === '') {\n    return [{\n      string: targetString,\n      shouldHighlight: false\n    }];\n  }\n  var textParts = [];\n  var highlightIndex;\n  do {\n    highlightIndex = targetString.toLowerCase().indexOf(highlightString.toLowerCase());\n    if (highlightIndex !== -1) {\n      if (highlightIndex > 0) {\n        textParts.push({\n          string: targetString.substring(0, highlightIndex),\n          shouldHighlight: false\n        });\n      }\n      textParts.push({\n        string: targetString.substr(highlightIndex, highlightString.length),\n        shouldHighlight: true\n      });\n      targetString = targetString.substr(highlightIndex + highlightString.length);\n    } else {\n      textParts.push({\n        string: targetString,\n        shouldHighlight: false\n      });\n    }\n  } while (highlightIndex !== -1 && targetString.length > 0);\n  return textParts;\n}\nfunction getArrayPartsByHighlight() {\n  var targetString = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var highlightString = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [''];\n  var target = _toLower(targetString);\n  var indices = [];\n  var index = 0;\n  var lastWordLength = 0;\n  for (var j = 0; j < highlightString.length; j++) {\n    var word = _toLower(highlightString[j]);\n    if (word.length === 0) {\n      break;\n    }\n    var targetSuffix = target.substring(index + lastWordLength);\n    var i = targetSuffix.indexOf(word);\n    if (i >= 0) {\n      var newIndex = index + lastWordLength + i;\n      indices.push({\n        start: index + lastWordLength + i,\n        end: index + lastWordLength + i + word.length\n      });\n      index = newIndex;\n      lastWordLength = word.length;\n    } else {\n      break;\n    }\n  }\n  var textParts = [];\n  for (var k = 0; k < indices.length; k++) {\n    if (k === 0 && indices[k].start !== 0) {\n      textParts.push({\n        string: targetString.substring(0, indices[k].start),\n        shouldHighlight: false\n      });\n    }\n    textParts.push({\n      string: targetString.substring(indices[k].start, indices[k].end),\n      shouldHighlight: true\n    });\n    if (indices[k].end < targetString.length) {\n      if (k === indices.length - 1) {\n        textParts.push({\n          string: targetString.substring(indices[k].end),\n          shouldHighlight: false\n        });\n      } else {\n        textParts.push({\n          string: targetString.substring(indices[k].end, indices[k + 1].start),\n          shouldHighlight: false\n        });\n      }\n    }\n  }\n  if (textParts.length === 0) {\n    textParts.push({\n      string: targetString,\n      shouldHighlight: false\n    });\n  }\n  return textParts;\n}\nexport { getPartsByHighlight, getTextPartsByHighlight, getArrayPartsByHighlight };","map":{"version":3,"names":["_toLower","_isEmpty","getPartsByHighlight","targetString","highlightString","trim","string","shouldHighlight","getTextPartsByHighlight","getArrayPartsByHighlight","textParts","highlightIndex","toLowerCase","indexOf","push","substring","substr","length","target","indices","index","lastWordLength","j","word","targetSuffix","i","newIndex","start","end","k"],"sources":["C:/Users/Alex/Documents/development/Rabbit/node_modules/react-native-ui-lib/src/utils/textUtils.js"],"sourcesContent":["import _toLower from \"lodash/toLower\";\nimport _isEmpty from \"lodash/isEmpty\";\nfunction getPartsByHighlight(targetString = '', highlightString) {\n  if (typeof highlightString === 'string') {\n    if (_isEmpty(highlightString.trim())) {\n      return [{\n        string: targetString,\n        shouldHighlight: false\n      }];\n    }\n    return getTextPartsByHighlight(targetString, highlightString);\n  } else {\n    return getArrayPartsByHighlight(targetString, highlightString);\n  }\n}\nfunction getTextPartsByHighlight(targetString = '', highlightString = '') {\n  if (highlightString === '') {\n    return [{\n      string: targetString,\n      shouldHighlight: false\n    }];\n  }\n  const textParts = [];\n  let highlightIndex;\n  do {\n    highlightIndex = targetString.toLowerCase().indexOf(highlightString.toLowerCase());\n    if (highlightIndex !== -1) {\n      if (highlightIndex > 0) {\n        textParts.push({\n          string: targetString.substring(0, highlightIndex),\n          shouldHighlight: false\n        });\n      }\n      textParts.push({\n        string: targetString.substr(highlightIndex, highlightString.length),\n        shouldHighlight: true\n      });\n      targetString = targetString.substr(highlightIndex + highlightString.length);\n    } else {\n      textParts.push({\n        string: targetString,\n        shouldHighlight: false\n      });\n    }\n  } while (highlightIndex !== -1 && targetString.length > 0);\n  return textParts;\n}\nfunction getArrayPartsByHighlight(targetString = '', highlightString = ['']) {\n  const target = _toLower(targetString);\n  const indices = [];\n  let index = 0;\n  let lastWordLength = 0;\n  for (let j = 0; j < highlightString.length; j++) {\n    const word = _toLower(highlightString[j]);\n    if (word.length === 0) {\n      break;\n    }\n    const targetSuffix = target.substring(index + lastWordLength);\n    const i = targetSuffix.indexOf(word);\n    if (i >= 0) {\n      const newIndex = index + lastWordLength + i;\n      indices.push({\n        start: index + lastWordLength + i,\n        end: index + lastWordLength + i + word.length\n      });\n      index = newIndex;\n      lastWordLength = word.length;\n    } else {\n      break;\n    }\n  }\n  const textParts = [];\n  for (let k = 0; k < indices.length; k++) {\n    if (k === 0 && indices[k].start !== 0) {\n      textParts.push({\n        string: targetString.substring(0, indices[k].start),\n        shouldHighlight: false\n      });\n    }\n    textParts.push({\n      string: targetString.substring(indices[k].start, indices[k].end),\n      shouldHighlight: true\n    });\n    if (indices[k].end < targetString.length) {\n      if (k === indices.length - 1) {\n        textParts.push({\n          string: targetString.substring(indices[k].end),\n          shouldHighlight: false\n        });\n      } else {\n        textParts.push({\n          string: targetString.substring(indices[k].end, indices[k + 1].start),\n          shouldHighlight: false\n        });\n      }\n    }\n  }\n  if (textParts.length === 0) {\n    textParts.push({\n      string: targetString,\n      shouldHighlight: false\n    });\n  }\n  return textParts;\n}\nexport { getPartsByHighlight, getTextPartsByHighlight, getArrayPartsByHighlight };"],"mappings":"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"},"metadata":{},"sourceType":"module"}