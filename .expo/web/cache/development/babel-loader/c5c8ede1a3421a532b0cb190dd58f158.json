{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"migrate\", \"customWarning\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport _mapKeys from \"lodash/mapKeys\";\nimport React, { useEffect, forwardRef } from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport OldTextField from \"./index\";\nimport NewTextField from \"../../incubator/TextField\";\nimport { LogService } from \"../../services\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar propsMigrationMap = {\n  helperText: 'hint',\n  title: 'label',\n  titleColor: 'labelColor',\n  titleStyle: 'labelStyle',\n  showCharacterCounter: 'showCharCounter',\n  transformer: 'formatter'\n};\nvar specialMigrationMap = {\n  prefix: 'leadingAccessory',\n  prefixStyle: 'leadingAccessory',\n  rightIconSource: 'trailingAccessory',\n  rightIconStyle: 'trailingAccessory',\n  rightButtonProps: 'trailingAccessory',\n  leadingIcon: 'leadingAccessory',\n  useTopErrors: 'validationMessagePosition'\n};\nvar customMessageMap = {\n  centered: \"Pass textAlign to 'style' prop instead.\",\n  error: \"Use 'validationMessage' with 'validate' props\",\n  expandable: 'This prop will not be supported anymore',\n  renderExpandableInput: 'This prop will not be supported anymore',\n  renderExpandable: 'This prop will not be supported anymore',\n  onToggleExpandableModal: 'This prop will not be supported anymore',\n  topBarProps: 'This prop will not be supported anymore',\n  transformer: 'This prop will not be supported anymore'\n};\nfunction migrateProps(props) {\n  var fixedProps = _mapKeys(props, function (value, key) {\n    if (propsMigrationMap[key] && value !== undefined) {\n      LogService.deprecationWarn({\n        component: 'TextField',\n        oldProp: key,\n        newProp: propsMigrationMap[key]\n      });\n      return propsMigrationMap[key];\n    } else if (specialMigrationMap[key] && value !== undefined) {\n      LogService.warn(\"The new TextField implementation does not support the '\" + key + \"' prop. Please use the '\" + specialMigrationMap[key] + \"' instead\");\n    } else if (customMessageMap[key] && value !== undefined) {\n      LogService.warn(\"The new TextField implementation does not support the '\" + key + \"' prop. \" + customMessageMap[key]);\n    }\n    return key;\n  });\n  return fixedProps;\n}\nvar TextFieldMigrator = forwardRef(function (_ref, ref) {\n  var _ref$migrate = _ref.migrate,\n    migrate = _ref$migrate === void 0 ? false : _ref$migrate,\n    customWarning = _ref.customWarning,\n    props = _objectWithoutProperties(_ref, _excluded);\n  useEffect(function () {\n    if (!migrate) {\n      LogService.warn(customWarning != null ? customWarning : \"RNUILib TextField component will soon be replaced with a new implementation, in order to start the migration - please pass the 'migrate' prop\");\n    }\n  }, []);\n  if (migrate) {\n    var migratedProps = migrateProps(props);\n    return _jsx(NewTextField, _objectSpread(_objectSpread({}, migratedProps), {}, {\n      ref: ref\n    }));\n  } else {\n    return _jsx(OldTextField, _objectSpread(_objectSpread({}, props), {}, {\n      ref: ref\n    }));\n  }\n});\nhoistStatics(TextFieldMigrator, NewTextField);\nTextFieldMigrator.displayName = 'TextField';\nexport default TextFieldMigrator;","map":{"version":3,"names":["_mapKeys","React","useEffect","forwardRef","hoistStatics","OldTextField","NewTextField","LogService","propsMigrationMap","helperText","title","titleColor","titleStyle","showCharacterCounter","transformer","specialMigrationMap","prefix","prefixStyle","rightIconSource","rightIconStyle","rightButtonProps","leadingIcon","useTopErrors","customMessageMap","centered","error","expandable","renderExpandableInput","renderExpandable","onToggleExpandableModal","topBarProps","migrateProps","props","fixedProps","value","key","undefined","deprecationWarn","component","oldProp","newProp","warn","TextFieldMigrator","ref","migrate","customWarning","migratedProps","displayName"],"sources":["C:/Users/Alex/Documents/development/Rabbit/node_modules/react-native-ui-lib/src/components/textField/TextFieldMigrator.js"],"sourcesContent":["import _mapKeys from \"lodash/mapKeys\";\nimport React, { useEffect, forwardRef } from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport OldTextField from \"./index\";\nimport NewTextField from \"../../incubator/TextField\";\nimport { LogService } from \"../../services\";\nconst propsMigrationMap = {\n  /* LABEL */\n  helperText: 'hint',\n  title: 'label',\n  titleColor: 'labelColor',\n  titleStyle: 'labelStyle',\n  /* CHAR COUNTER */\n  showCharacterCounter: 'showCharCounter',\n  transformer: 'formatter'\n};\nconst specialMigrationMap = {\n  prefix: 'leadingAccessory',\n  prefixStyle: 'leadingAccessory',\n  rightIconSource: 'trailingAccessory',\n  rightIconStyle: 'trailingAccessory',\n  rightButtonProps: 'trailingAccessory',\n  leadingIcon: 'leadingAccessory',\n  useTopErrors: 'validationMessagePosition'\n};\nconst customMessageMap = {\n  centered: `Pass textAlign to 'style' prop instead.`,\n  error: `Use 'validationMessage' with 'validate' props`,\n  expandable: 'This prop will not be supported anymore',\n  renderExpandableInput: 'This prop will not be supported anymore',\n  renderExpandable: 'This prop will not be supported anymore',\n  onToggleExpandableModal: 'This prop will not be supported anymore',\n  topBarProps: 'This prop will not be supported anymore',\n  transformer: 'This prop will not be supported anymore'\n};\nfunction migrateProps(props) {\n  const fixedProps = _mapKeys(props, (value, key) => {\n    if (propsMigrationMap[key] && value !== undefined) {\n      LogService.deprecationWarn({\n        component: 'TextField',\n        oldProp: key,\n        newProp: propsMigrationMap[key]\n      });\n      return propsMigrationMap[key];\n    } else if (specialMigrationMap[key] && value !== undefined) {\n      LogService.warn(`The new TextField implementation does not support the '${key}' prop. Please use the '${specialMigrationMap[key]}' instead`);\n    } else if (customMessageMap[key] && value !== undefined) {\n      LogService.warn(`The new TextField implementation does not support the '${key}' prop. ${customMessageMap[key]}`);\n    }\n    return key;\n  });\n  return fixedProps;\n}\nconst TextFieldMigrator = forwardRef(({\n  migrate = false,\n  customWarning,\n  ...props\n}, ref) => {\n  useEffect(() => {\n    if (!migrate) {\n      LogService.warn(customWarning ?? `RNUILib TextField component will soon be replaced with a new implementation, in order to start the migration - please pass the 'migrate' prop`);\n    }\n  }, []);\n  if (migrate) {\n    const migratedProps = migrateProps(props);\n    // @ts-ignore\n    return <NewTextField {...migratedProps} ref={ref} />;\n  } else {\n    // @ts-expect-error\n    return <OldTextField {...props} ref={ref} />;\n  }\n});\nhoistStatics(TextFieldMigrator, NewTextField);\nTextFieldMigrator.displayName = 'TextField';\nexport default TextFieldMigrator;"],"mappings":"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"},"metadata":{},"sourceType":"module"}