{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _isEqual from \"lodash/isEqual\";\nimport { useCallback, useRef, useState } from 'react';\nimport { Constants } from \"../../commons/new\";\nexport default function useHiddenLocation() {\n  var getHiddenLocation = function getHiddenLocation(_ref) {\n    var _ref$x = _ref.x,\n      x = _ref$x === void 0 ? 0 : _ref$x,\n      _ref$y = _ref.y,\n      y = _ref$y === void 0 ? 0 : _ref$y,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? Constants.screenWidth : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? Constants.windowHeight : _ref$height,\n      _ref$wasMeasured = _ref.wasMeasured,\n      wasMeasured = _ref$wasMeasured === void 0 ? false : _ref$wasMeasured;\n    return {\n      up: -y - height,\n      down: Constants.windowHeight - y,\n      left: -width - x,\n      right: Constants.screenWidth - x,\n      wasMeasured: wasMeasured\n    };\n  };\n  var _useState = useState(getHiddenLocation({})),\n    _useState2 = _slicedToArray(_useState, 2),\n    hiddenLocation = _useState2[0],\n    setHiddenLocation = _useState2[1];\n  var ref = useRef();\n  var layoutData = useRef();\n  var wasMeasured = useRef(false);\n  var measure = useCallback(function () {\n    if (ref.current && layoutData.current && layoutData.current.width > 0 && layoutData.current.height > 0) {\n      wasMeasured.current = true;\n      var _layoutData$current = layoutData.current,\n        x = _layoutData$current.x,\n        y = _layoutData$current.y,\n        width = _layoutData$current.width,\n        height = _layoutData$current.height;\n      setHiddenLocation(getHiddenLocation({\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        wasMeasured: true\n      }));\n    }\n  }, []);\n  var setRef = useCallback(function (node) {\n    if (node) {\n      ref.current = node;\n      measure();\n    }\n  }, [measure]);\n  var onLayout = useCallback(function (event) {\n    if (!_isEqual(layoutData.current, event.nativeEvent.layout)) {\n      layoutData.current = event.nativeEvent.layout;\n      measure();\n    }\n  }, [measure]);\n  return {\n    setRef: setRef,\n    onLayout: onLayout,\n    hiddenLocation: hiddenLocation\n  };\n}","map":{"version":3,"names":["_isEqual","useCallback","useRef","useState","Constants","useHiddenLocation","getHiddenLocation","x","y","width","screenWidth","height","windowHeight","wasMeasured","up","down","left","right","hiddenLocation","setHiddenLocation","ref","layoutData","measure","current","setRef","node","onLayout","event","nativeEvent","layout"],"sources":["C:/Users/Alex/Documents/development/Rabbit/node_modules/react-native-ui-lib/src/incubator/hooks/useHiddenLocation.js"],"sourcesContent":["import _isEqual from \"lodash/isEqual\";\nimport { useCallback, useRef, useState } from 'react';\nimport { Constants } from \"../../commons/new\";\nexport default function useHiddenLocation() {\n  const getHiddenLocation = ({\n    x = 0,\n    y = 0,\n    width = Constants.screenWidth,\n    height = Constants.windowHeight,\n    wasMeasured = false\n  }) => {\n    return {\n      up: -y - height,\n      down: Constants.windowHeight - y,\n      left: -width - x,\n      right: Constants.screenWidth - x,\n      wasMeasured\n    };\n  };\n  const [hiddenLocation, setHiddenLocation] = useState(getHiddenLocation({}));\n  const ref = useRef();\n  const layoutData = useRef();\n  const wasMeasured = useRef(false);\n  const measure = useCallback(() => {\n    if (ref.current && layoutData.current && layoutData.current.width > 0 && layoutData.current.height > 0) {\n      wasMeasured.current = true;\n      const {\n        x,\n        y,\n        width,\n        height\n      } = layoutData.current;\n      setHiddenLocation(getHiddenLocation({\n        x,\n        y,\n        width,\n        height,\n        wasMeasured: true\n      }));\n    }\n  }, []);\n  const setRef = useCallback(node => {\n    if (node) {\n      ref.current = node;\n      measure();\n    }\n  }, [measure]);\n  const onLayout = useCallback(event => {\n    if (!_isEqual(layoutData.current, event.nativeEvent.layout)) {\n      layoutData.current = event.nativeEvent.layout;\n      measure();\n    }\n  }, [measure]);\n  return {\n    setRef,\n    onLayout,\n    hiddenLocation\n  };\n}"],"mappings":";AAAA,OAAOA,QAAQ,MAAM,gBAAgB;AACrC,SAASC,WAAW,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACrD,SAASC,SAAS;AAClB,eAAe,SAASC,iBAAiB,GAAG;EAC1C,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiB,OAMjB;IAAA,kBALJC,CAAC;MAADA,CAAC,uBAAG,CAAC;MAAA,cACLC,CAAC;MAADA,CAAC,uBAAG,CAAC;MAAA,kBACLC,KAAK;MAALA,KAAK,2BAAGL,SAAS,CAACM,WAAW;MAAA,mBAC7BC,MAAM;MAANA,MAAM,4BAAGP,SAAS,CAACQ,YAAY;MAAA,wBAC/BC,WAAW;MAAXA,WAAW,iCAAG,KAAK;IAEnB,OAAO;MACLC,EAAE,EAAE,CAACN,CAAC,GAAGG,MAAM;MACfI,IAAI,EAAEX,SAAS,CAACQ,YAAY,GAAGJ,CAAC;MAChCQ,IAAI,EAAE,CAACP,KAAK,GAAGF,CAAC;MAChBU,KAAK,EAAEb,SAAS,CAACM,WAAW,GAAGH,CAAC;MAChCM,WAAW,EAAXA;IACF,CAAC;EACH,CAAC;EACD,gBAA4CV,QAAQ,CAACG,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;IAAA;IAApEY,cAAc;IAAEC,iBAAiB;EACxC,IAAMC,GAAG,GAAGlB,MAAM,EAAE;EACpB,IAAMmB,UAAU,GAAGnB,MAAM,EAAE;EAC3B,IAAMW,WAAW,GAAGX,MAAM,CAAC,KAAK,CAAC;EACjC,IAAMoB,OAAO,GAAGrB,WAAW,CAAC,YAAM;IAChC,IAAImB,GAAG,CAACG,OAAO,IAAIF,UAAU,CAACE,OAAO,IAAIF,UAAU,CAACE,OAAO,CAACd,KAAK,GAAG,CAAC,IAAIY,UAAU,CAACE,OAAO,CAACZ,MAAM,GAAG,CAAC,EAAE;MACtGE,WAAW,CAACU,OAAO,GAAG,IAAI;MAC1B,0BAKIF,UAAU,CAACE,OAAO;QAJpBhB,CAAC,uBAADA,CAAC;QACDC,CAAC,uBAADA,CAAC;QACDC,KAAK,uBAALA,KAAK;QACLE,MAAM,uBAANA,MAAM;MAERQ,iBAAiB,CAACb,iBAAiB,CAAC;QAClCC,CAAC,EAADA,CAAC;QACDC,CAAC,EAADA,CAAC;QACDC,KAAK,EAALA,KAAK;QACLE,MAAM,EAANA,MAAM;QACNE,WAAW,EAAE;MACf,CAAC,CAAC,CAAC;IACL;EACF,CAAC,EAAE,EAAE,CAAC;EACN,IAAMW,MAAM,GAAGvB,WAAW,CAAC,UAAAwB,IAAI,EAAI;IACjC,IAAIA,IAAI,EAAE;MACRL,GAAG,CAACG,OAAO,GAAGE,IAAI;MAClBH,OAAO,EAAE;IACX;EACF,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EACb,IAAMI,QAAQ,GAAGzB,WAAW,CAAC,UAAA0B,KAAK,EAAI;IACpC,IAAI,CAAC3B,QAAQ,CAACqB,UAAU,CAACE,OAAO,EAAEI,KAAK,CAACC,WAAW,CAACC,MAAM,CAAC,EAAE;MAC3DR,UAAU,CAACE,OAAO,GAAGI,KAAK,CAACC,WAAW,CAACC,MAAM;MAC7CP,OAAO,EAAE;IACX;EACF,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EACb,OAAO;IACLE,MAAM,EAANA,MAAM;IACNE,QAAQ,EAARA,QAAQ;IACRR,cAAc,EAAdA;EACF,CAAC;AACH"},"metadata":{},"sourceType":"module"}