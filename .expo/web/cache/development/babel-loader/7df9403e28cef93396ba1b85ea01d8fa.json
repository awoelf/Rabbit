{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useCallback, useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useSharedValue, useAnimatedStyle, withTiming, withRepeat, Easing } from 'react-native-reanimated';\nimport View from \"../view\";\nimport Text from \"../text\";\nimport { MarqueeDirections, MarqueeProps } from \"./types\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar DEFAULT_DURATION = 3000;\nvar DEFAULT_DURATION_PER_WORD = 250;\nfunction Marquee(props) {\n  var label = props.label,\n    labelStyle = props.labelStyle,\n    _props$direction = props.direction,\n    direction = _props$direction === void 0 ? MarqueeDirections.LEFT : _props$direction,\n    duration = props.duration,\n    _props$numberOfReps = props.numberOfReps,\n    numberOfReps = _props$numberOfReps === void 0 ? -1 : _props$numberOfReps,\n    containerStyle = props.containerStyle;\n  var calcDuration = function calcDuration() {\n    var numOfWords = label.split(' ').length;\n    return DEFAULT_DURATION + DEFAULT_DURATION_PER_WORD * numOfWords;\n  };\n  var isHorizontal = direction === MarqueeDirections.LEFT || direction === MarqueeDirections.RIGHT;\n  var fixedDuration = duration || (isHorizontal ? calcDuration() : DEFAULT_DURATION);\n  var _useState = useState(undefined),\n    _useState2 = _slicedToArray(_useState, 2),\n    viewLayout = _useState2[0],\n    setViewLayout = _useState2[1];\n  var _useState3 = useState(undefined),\n    _useState4 = _slicedToArray(_useState3, 2),\n    textLayout = _useState4[0],\n    setTextLayout = _useState4[1];\n  var offset = useSharedValue(undefined);\n  var initialOffset = 0;\n  var axisX = false;\n  var axisY = false;\n  if (isHorizontal) {\n    axisX = true;\n  } else {\n    axisY = true;\n  }\n  var onLayoutView = useCallback(function (event) {\n    setViewLayout(event.nativeEvent.layout);\n  }, []);\n  var onLayoutText = useCallback(function (event) {\n    setTextLayout(event.nativeEvent.layout);\n  }, []);\n  var startAnimation = function startAnimation(fromValue, toValue, backToValue) {\n    initialOffset = fromValue;\n    offset.value = initialOffset;\n    offset.value = withRepeat(withTiming(toValue, {\n      duration: fixedDuration,\n      easing: Easing.linear\n    }), numberOfReps, false, function () {\n      var _f = function _f(finished) {\n        if (finished) {\n          offset.value = initialOffset;\n          offset.value = withTiming(backToValue, {\n            duration: fixedDuration,\n            easing: Easing.linear\n          });\n        }\n      };\n      _f._closure = {\n        offset: offset,\n        initialOffset: initialOffset,\n        withTiming: withTiming,\n        backToValue: backToValue,\n        fixedDuration: fixedDuration,\n        Easing: {\n          linear: Easing.linear\n        }\n      };\n      _f.asString = \"function _f(finished){const{offset,initialOffset,withTiming,backToValue,fixedDuration,Easing}=jsThis._closure;{if(finished){offset.value=initialOffset;offset.value=withTiming(backToValue,{duration:fixedDuration,easing:Easing.linear});}}}\";\n      _f.__workletHash = 17210676616243;\n      _f.__location = \"C:\\\\Users\\\\Alex\\\\Documents\\\\development\\\\Rabbit\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\components\\\\marquee\\\\index.js (47:29)\";\n      return _f;\n    }());\n  };\n  useEffect(function () {\n    if (viewLayout && textLayout) {\n      switch (direction) {\n        case MarqueeDirections.RIGHT:\n          startAnimation(-textLayout.width, viewLayout.width, 0);\n          break;\n        case MarqueeDirections.LEFT:\n          startAnimation(viewLayout == null ? void 0 : viewLayout.width, -textLayout.width, viewLayout.width - textLayout.width);\n          break;\n        case MarqueeDirections.UP:\n          startAnimation(viewLayout.height, -textLayout.height, viewLayout.height - textLayout.height);\n          break;\n        case MarqueeDirections.DOWN:\n          startAnimation(-textLayout.height, viewLayout.height, 0);\n          break;\n      }\n    }\n  }, [viewLayout, textLayout]);\n  var translateStyle = useAnimatedStyle(function () {\n    var _f = function _f() {\n      if (offset.value) {\n        return {\n          transform: [{\n            translateX: axisX ? offset.value : 0\n          }, {\n            translateY: axisY ? offset.value : 0\n          }],\n          position: 'absolute',\n          width: !isHorizontal || textLayout != null && textLayout.width ? textLayout == null ? void 0 : textLayout.width : '400%'\n        };\n      }\n      return {\n        position: 'absolute',\n        width: !isHorizontal || textLayout != null && textLayout.width ? textLayout == null ? void 0 : textLayout.width : '400%'\n      };\n    };\n    _f._closure = {\n      offset: offset,\n      axisX: axisX,\n      axisY: axisY,\n      isHorizontal: isHorizontal,\n      textLayout: textLayout\n    };\n    _f.asString = \"function _f(){const{offset,axisX,axisY,isHorizontal,textLayout}=jsThis._closure;{var _textLayout3,_textLayout4;if(offset.value){var _textLayout,_textLayout2;return{transform:[{translateX:axisX?offset.value:0},{translateY:axisY?offset.value:0}],position:'absolute',width:!isHorizontal||(_textLayout=textLayout)!==null&&_textLayout!==void 0&&_textLayout.width?(_textLayout2=textLayout)===null||_textLayout2===void 0?void 0:_textLayout2.width:'400%'};}return{position:'absolute',width:!isHorizontal||(_textLayout3=textLayout)!==null&&_textLayout3!==void 0&&_textLayout3.width?(_textLayout4=textLayout)===null||_textLayout4===void 0?void 0:_textLayout4.width:'400%'};}}\";\n    _f.__workletHash = 5554870896888;\n    _f.__location = \"C:\\\\Users\\\\Alex\\\\Documents\\\\development\\\\Rabbit\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\components\\\\marquee\\\\index.js (75:42)\";\n    _f.__optimalization = 1;\n    return _f;\n  }());\n  return _jsxs(View, {\n    style: [styles.container, containerStyle],\n    onLayout: onLayoutView,\n    children: [_jsx(View, {\n      reanimated: true,\n      style: [translateStyle],\n      children: _jsx(Text, {\n        style: [styles.text, labelStyle],\n        onLayout: onLayoutText,\n        children: label\n      })\n    }), _jsx(Text, {\n      style: [styles.text, labelStyle, styles.hiddenText],\n      numberOfLines: 1,\n      children: label\n    })]\n  });\n}\nexport { MarqueeProps, MarqueeDirections };\nexport default Marquee;\nvar styles = StyleSheet.create({\n  container: {\n    overflow: 'hidden'\n  },\n  text: {\n    alignSelf: 'center'\n  },\n  hiddenText: {\n    color: 'transparent'\n  }\n});","map":{"version":3,"names":["React","useCallback","useEffect","useState","useSharedValue","useAnimatedStyle","withTiming","withRepeat","Easing","View","Text","MarqueeDirections","MarqueeProps","DEFAULT_DURATION","DEFAULT_DURATION_PER_WORD","Marquee","props","label","labelStyle","direction","LEFT","duration","numberOfReps","containerStyle","calcDuration","numOfWords","split","length","isHorizontal","RIGHT","fixedDuration","undefined","viewLayout","setViewLayout","textLayout","setTextLayout","offset","initialOffset","axisX","axisY","onLayoutView","event","nativeEvent","layout","onLayoutText","startAnimation","fromValue","toValue","backToValue","value","easing","linear","finished","width","UP","height","DOWN","translateStyle","transform","translateX","translateY","position","styles","container","text","hiddenText","StyleSheet","create","overflow","alignSelf","color"],"sources":["C:/Users/Alex/Documents/development/Rabbit/node_modules/react-native-ui-lib/src/components/marquee/index.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { StyleSheet } from 'react-native';\nimport { useSharedValue, useAnimatedStyle, withTiming, withRepeat, Easing } from 'react-native-reanimated';\nimport View from \"../view\";\nimport Text from \"../text\";\nimport { MarqueeDirections, MarqueeProps } from \"./types\";\nconst DEFAULT_DURATION = 3000;\nconst DEFAULT_DURATION_PER_WORD = 250;\nfunction Marquee(props) {\n  const {\n    label,\n    labelStyle,\n    direction = MarqueeDirections.LEFT,\n    duration,\n    numberOfReps = -1,\n    containerStyle\n  } = props;\n  const calcDuration = () => {\n    const numOfWords = label.split(' ').length;\n    return DEFAULT_DURATION + DEFAULT_DURATION_PER_WORD * numOfWords;\n  };\n  const isHorizontal = direction === MarqueeDirections.LEFT || direction === MarqueeDirections.RIGHT;\n  const fixedDuration = duration || (isHorizontal ? calcDuration() : DEFAULT_DURATION);\n  const [viewLayout, setViewLayout] = useState(undefined);\n  const [textLayout, setTextLayout] = useState(undefined);\n  const offset = useSharedValue(undefined);\n  let initialOffset = 0;\n  let axisX = false;\n  let axisY = false;\n  if (isHorizontal) {\n    axisX = true;\n  } else {\n    axisY = true;\n  }\n  const onLayoutView = useCallback(event => {\n    setViewLayout(event.nativeEvent.layout);\n  }, []);\n  const onLayoutText = useCallback(event => {\n    setTextLayout(event.nativeEvent.layout);\n  }, []);\n  const startAnimation = (fromValue, toValue, backToValue) => {\n    initialOffset = fromValue;\n    offset.value = initialOffset;\n    offset.value = withRepeat(withTiming(toValue, {\n      duration: fixedDuration,\n      easing: Easing.linear\n    }), numberOfReps, false, finished => {\n      if (finished) {\n        offset.value = initialOffset;\n        offset.value = withTiming(backToValue, {\n          duration: fixedDuration,\n          easing: Easing.linear\n        });\n      }\n    });\n  };\n  useEffect(() => {\n    if (viewLayout && textLayout) {\n      switch (direction) {\n        case MarqueeDirections.RIGHT:\n          startAnimation(-textLayout.width, viewLayout.width, 0);\n          break;\n        case MarqueeDirections.LEFT:\n          startAnimation(viewLayout?.width, -textLayout.width, viewLayout.width - textLayout.width);\n          break;\n        case MarqueeDirections.UP:\n          startAnimation(viewLayout.height, -textLayout.height, viewLayout.height - textLayout.height);\n          break;\n        case MarqueeDirections.DOWN:\n          startAnimation(-textLayout.height, viewLayout.height, 0);\n          break;\n      }\n    }\n  }, [viewLayout, textLayout]);\n  const translateStyle = useAnimatedStyle(() => {\n    if (offset.value) {\n      return {\n        transform: [{\n          translateX: axisX ? offset.value : 0\n        }, {\n          translateY: axisY ? offset.value : 0\n        }],\n        position: 'absolute',\n        width: !isHorizontal || textLayout?.width ? textLayout?.width : '400%'\n      };\n    }\n    return {\n      position: 'absolute',\n      width: !isHorizontal || textLayout?.width ? textLayout?.width : '400%'\n    };\n  });\n  return <View style={[styles.container, containerStyle]} onLayout={onLayoutView}>\n      <View reanimated style={[translateStyle]}>\n        <Text style={[styles.text, labelStyle]} onLayout={onLayoutText}>\n          {label}\n        </Text>\n      </View>\n      <Text style={[styles.text, labelStyle, styles.hiddenText]} numberOfLines={1}>\n        {label}\n      </Text>\n    </View>;\n}\nexport { MarqueeProps, MarqueeDirections };\nexport default Marquee;\nconst styles = StyleSheet.create({\n  container: {\n    overflow: 'hidden'\n  },\n  text: {\n    alignSelf: 'center'\n  },\n  hiddenText: {\n    color: 'transparent'\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}