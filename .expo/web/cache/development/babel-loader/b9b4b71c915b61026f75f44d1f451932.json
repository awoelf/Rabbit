{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport _invoke from \"lodash/invoke\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _isArray from \"lodash/isArray\";\nimport React, { useCallback, useEffect, useMemo, useContext } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { LogService } from \"../../services\";\nimport { Colors, Typography } from \"../../style\";\nimport * as Modifiers from \"../../commons/modifiers\";\nimport Assets from \"../../assets\";\nimport View from \"../view\";\nimport TouchableOpacity from \"../touchableOpacity\";\nimport Image from \"../image\";\nimport Text from \"../text\";\nimport { getItemLabel, isItemSelected } from \"./PickerPresenter\";\nimport PickerContext from \"./PickerContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar PickerItem = function PickerItem(props) {\n  var _context$value;\n  var value = props.value,\n    label = props.label,\n    labelStyle = props.labelStyle,\n    disabled = props.disabled,\n    _props$selectedIcon = props.selectedIcon,\n    selectedIcon = _props$selectedIcon === void 0 ? Assets.icons.check : _props$selectedIcon,\n    _props$selectedIconCo = props.selectedIconColor,\n    selectedIconColor = _props$selectedIconCo === void 0 ? Colors.$iconPrimary : _props$selectedIconCo,\n    testID = props.testID;\n  var context = useContext(PickerContext);\n  var migrate = context.migrate;\n  var customRenderItem = context.renderItem || props.renderItem;\n  var itemValue = !migrate && typeof value === 'object' ? value == null ? void 0 : value.value : value;\n  var isSelected = isItemSelected(itemValue, context.value);\n  var itemLabel = getItemLabel(label, value, props.getItemLabel || context.getItemLabel);\n  var selectedCounter = context.selectionLimit && _isArray(context.value) && ((_context$value = context.value) == null ? void 0 : _context$value.length);\n  var accessibilityProps = _objectSpread({\n    accessibilityState: isSelected ? {\n      selected: true\n    } : undefined,\n    accessibilityHint: 'Double click to select this suggestion'\n  }, Modifiers.extractAccessibilityProps(props));\n  var isItemDisabled = useMemo(function () {\n    return !!(disabled || !isSelected && context.selectionLimit && context.selectionLimit === selectedCounter);\n  }, [selectedCounter]);\n  useEffect(function () {\n    if (_isPlainObject(value)) {\n      LogService.warn('UILib Picker.Item will stop supporting passing object as value & label (e.g {value, label}) in the next major version. Please pass separate label and value props');\n    }\n  }, [value]);\n  var selectedIndicator = useMemo(function () {\n    if (isSelected) {\n      return _jsx(Image, {\n        source: selectedIcon,\n        tintColor: isItemDisabled ? Colors.$iconDisabled : selectedIconColor\n      });\n    }\n  }, [isSelected, isItemDisabled, selectedIcon, selectedIconColor]);\n  var itemLabelStyle = useMemo(function () {\n    return [styles.labelText, isItemDisabled ? styles.labelTextDisabled : undefined, labelStyle];\n  }, [isItemDisabled, labelStyle]);\n  var _onPress = useCallback(function () {\n    if (migrate) {\n      context.onPress(value);\n    } else {\n      context.onPress(typeof value === 'object' || context.isMultiMode ? value : {\n        value: value,\n        label: itemLabel\n      });\n    }\n  }, [migrate, value, context.onPress]);\n  var onSelectedLayout = useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _invoke.apply(void 0, [context, 'onSelectedLayout'].concat(args));\n  }, []);\n  var _renderItem = function _renderItem() {\n    return _jsxs(View, {\n      style: styles.container,\n      flex: true,\n      row: true,\n      spread: true,\n      centerV: true,\n      children: [_jsx(Text, {\n        numberOfLines: 1,\n        style: itemLabelStyle,\n        children: itemLabel\n      }), selectedIndicator]\n    });\n  };\n  return _jsx(TouchableOpacity, _objectSpread(_objectSpread({\n    activeOpacity: 0.5,\n    onPress: _onPress,\n    onLayout: isSelected ? onSelectedLayout : undefined,\n    disabled: isItemDisabled,\n    testID: testID,\n    throttleTime: 0\n  }, accessibilityProps), {}, {\n    children: customRenderItem ? customRenderItem(value, _objectSpread(_objectSpread({}, props), {}, {\n      isSelected: isSelected,\n      isItemDisabled: isItemDisabled\n    }), itemLabel) : _renderItem()\n  }));\n};\nvar styles = StyleSheet.create({\n  container: {\n    height: 56.5,\n    paddingHorizontal: 23,\n    borderColor: Colors.$outlineDefault,\n    borderBottomWidth: 1\n  },\n  labelText: _objectSpread(_objectSpread({}, Typography.text70), {}, {\n    color: Colors.$textDefault,\n    flex: 1,\n    textAlign: 'left'\n  }),\n  labelTextDisabled: {\n    color: Colors.$textDisabled\n  }\n});\nPickerItem.displayName = 'Picker.Item';\nexport default PickerItem;","map":{"version":3,"names":["_invoke","_isPlainObject","_isArray","React","useCallback","useEffect","useMemo","useContext","LogService","Colors","Typography","Modifiers","Assets","View","TouchableOpacity","Image","Text","getItemLabel","isItemSelected","PickerContext","PickerItem","props","value","label","labelStyle","disabled","selectedIcon","icons","check","selectedIconColor","$iconPrimary","testID","context","migrate","customRenderItem","renderItem","itemValue","isSelected","itemLabel","selectedCounter","selectionLimit","length","accessibilityProps","accessibilityState","selected","undefined","accessibilityHint","extractAccessibilityProps","isItemDisabled","warn","selectedIndicator","$iconDisabled","itemLabelStyle","styles","labelText","labelTextDisabled","_onPress","onPress","isMultiMode","onSelectedLayout","args","_renderItem","container","StyleSheet","create","height","paddingHorizontal","borderColor","$outlineDefault","borderBottomWidth","text70","color","$textDefault","flex","textAlign","$textDisabled","displayName"],"sources":["C:/Users/Alex/Documents/development/Rabbit/node_modules/react-native-ui-lib/src/components/picker/PickerItem.js"],"sourcesContent":["import _invoke from \"lodash/invoke\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _isArray from \"lodash/isArray\";\nimport React, { useCallback, useEffect, useMemo, useContext } from 'react';\nimport { StyleSheet } from 'react-native';\nimport { LogService } from \"../../services\";\nimport { Colors, Typography } from \"../../style\";\nimport * as Modifiers from \"../../commons/modifiers\";\nimport Assets from \"../../assets\";\nimport View from \"../view\";\nimport TouchableOpacity from \"../touchableOpacity\";\nimport Image from \"../image\";\nimport Text from \"../text\";\nimport { getItemLabel, isItemSelected } from \"./PickerPresenter\";\nimport PickerContext from \"./PickerContext\";\n/**\n * @description: Picker.Item, for configuring the Picker's selectable options\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/PickerScreen.tsx\n */\nconst PickerItem = props => {\n  const {\n    value,\n    label,\n    labelStyle,\n    disabled,\n    selectedIcon = Assets.icons.check,\n    selectedIconColor = Colors.$iconPrimary,\n    testID\n  } = props;\n  const context = useContext(PickerContext);\n  const {\n    migrate\n  } = context;\n  const customRenderItem = context.renderItem || props.renderItem;\n  const itemValue = !migrate && typeof value === 'object' ? value?.value : value;\n  const isSelected = isItemSelected(itemValue, context.value);\n  const itemLabel = getItemLabel(label, value, props.getItemLabel || context.getItemLabel);\n  const selectedCounter = context.selectionLimit && _isArray(context.value) && context.value?.length;\n  const accessibilityProps = {\n    accessibilityState: isSelected ? {\n      selected: true\n    } : undefined,\n    accessibilityHint: 'Double click to select this suggestion',\n    ...Modifiers.extractAccessibilityProps(props)\n  };\n  const isItemDisabled = useMemo(() => {\n    return !!(disabled || !isSelected && context.selectionLimit && context.selectionLimit === selectedCounter);\n  }, [selectedCounter]);\n  useEffect(() => {\n    if (_isPlainObject(value)) {\n      LogService.warn('UILib Picker.Item will stop supporting passing object as value & label (e.g {value, label}) in the next major version. Please pass separate label and value props');\n    }\n  }, [value]);\n  const selectedIndicator = useMemo(() => {\n    if (isSelected) {\n      return <Image source={selectedIcon} tintColor={isItemDisabled ? Colors.$iconDisabled : selectedIconColor} />;\n    }\n  }, [isSelected, isItemDisabled, selectedIcon, selectedIconColor]);\n  const itemLabelStyle = useMemo(() => {\n    return [styles.labelText, isItemDisabled ? styles.labelTextDisabled : undefined, labelStyle];\n  }, [isItemDisabled, labelStyle]);\n  const _onPress = useCallback(() => {\n    if (migrate) {\n      context.onPress(value);\n    } else {\n      context.onPress(typeof value === 'object' || context.isMultiMode ? value : {\n        value,\n        label: itemLabel\n      });\n    }\n  }, [migrate, value, context.onPress]);\n  const onSelectedLayout = useCallback((...args) => {\n    _invoke(context, 'onSelectedLayout', ...args);\n  }, []);\n  const _renderItem = () => {\n    return <View style={styles.container} flex row spread centerV>\n        <Text numberOfLines={1} style={itemLabelStyle}>\n          {itemLabel}\n        </Text>\n        {selectedIndicator}\n      </View>;\n  };\n  return <TouchableOpacity activeOpacity={0.5} onPress={_onPress} onLayout={isSelected ? onSelectedLayout : undefined} disabled={isItemDisabled} testID={testID} throttleTime={0} {...accessibilityProps}>\n      {customRenderItem ? customRenderItem(value, {\n      ...props,\n      isSelected,\n      isItemDisabled\n    }, itemLabel) : _renderItem()}\n    </TouchableOpacity>;\n};\nconst styles = StyleSheet.create({\n  container: {\n    height: 56.5,\n    paddingHorizontal: 23,\n    borderColor: Colors.$outlineDefault,\n    borderBottomWidth: 1\n  },\n  labelText: {\n    ...Typography.text70,\n    color: Colors.$textDefault,\n    flex: 1,\n    textAlign: 'left'\n  },\n  labelTextDisabled: {\n    color: Colors.$textDisabled\n  }\n});\nPickerItem.displayName = 'Picker.Item';\nexport default PickerItem;"],"mappings":";;;AAAA,OAAOA,OAAO,MAAM,eAAe;AACnC,OAAOC,cAAc,MAAM,sBAAsB;AACjD,OAAOC,QAAQ,MAAM,gBAAgB;AACrC,OAAOC,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,OAAO,EAAEC,UAAU,QAAQ,OAAO;AAAC;AAE3E,SAASC,UAAU;AACnB,SAASC,MAAM,EAAEC,UAAU;AAC3B,OAAO,KAAKC,SAAS;AACrB,OAAOC,MAAM;AACb,OAAOC,IAAI;AACX,OAAOC,gBAAgB;AACvB,OAAOC,KAAK;AACZ,OAAOC,IAAI;AACX,SAASC,YAAY,EAAEC,cAAc;AACrC,OAAOC,aAAa;AAAwB;AAAA;AAK5C,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAGC,KAAK,EAAI;EAAA;EAC1B,IACEC,KAAK,GAOHD,KAAK,CAPPC,KAAK;IACLC,KAAK,GAMHF,KAAK,CANPE,KAAK;IACLC,UAAU,GAKRH,KAAK,CALPG,UAAU;IACVC,QAAQ,GAINJ,KAAK,CAJPI,QAAQ;IAAA,sBAINJ,KAAK,CAHPK,YAAY;IAAZA,YAAY,oCAAGd,MAAM,CAACe,KAAK,CAACC,KAAK;IAAA,wBAG/BP,KAAK,CAFPQ,iBAAiB;IAAjBA,iBAAiB,sCAAGpB,MAAM,CAACqB,YAAY;IACvCC,MAAM,GACJV,KAAK,CADPU,MAAM;EAER,IAAMC,OAAO,GAAGzB,UAAU,CAACY,aAAa,CAAC;EACzC,IACEc,OAAO,GACLD,OAAO,CADTC,OAAO;EAET,IAAMC,gBAAgB,GAAGF,OAAO,CAACG,UAAU,IAAId,KAAK,CAACc,UAAU;EAC/D,IAAMC,SAAS,GAAG,CAACH,OAAO,IAAI,OAAOX,KAAK,KAAK,QAAQ,GAAGA,KAAK,oBAALA,KAAK,CAAEA,KAAK,GAAGA,KAAK;EAC9E,IAAMe,UAAU,GAAGnB,cAAc,CAACkB,SAAS,EAAEJ,OAAO,CAACV,KAAK,CAAC;EAC3D,IAAMgB,SAAS,GAAGrB,YAAY,CAACM,KAAK,EAAED,KAAK,EAAED,KAAK,CAACJ,YAAY,IAAIe,OAAO,CAACf,YAAY,CAAC;EACxF,IAAMsB,eAAe,GAAGP,OAAO,CAACQ,cAAc,IAAItC,QAAQ,CAAC8B,OAAO,CAACV,KAAK,CAAC,uBAAIU,OAAO,CAACV,KAAK,qBAAb,eAAemB,MAAM;EAClG,IAAMC,kBAAkB;IACtBC,kBAAkB,EAAEN,UAAU,GAAG;MAC/BO,QAAQ,EAAE;IACZ,CAAC,GAAGC,SAAS;IACbC,iBAAiB,EAAE;EAAwC,GACxDnC,SAAS,CAACoC,yBAAyB,CAAC1B,KAAK,CAAC,CAC9C;EACD,IAAM2B,cAAc,GAAG1C,OAAO,CAAC,YAAM;IACnC,OAAO,CAAC,EAAEmB,QAAQ,IAAI,CAACY,UAAU,IAAIL,OAAO,CAACQ,cAAc,IAAIR,OAAO,CAACQ,cAAc,KAAKD,eAAe,CAAC;EAC5G,CAAC,EAAE,CAACA,eAAe,CAAC,CAAC;EACrBlC,SAAS,CAAC,YAAM;IACd,IAAIJ,cAAc,CAACqB,KAAK,CAAC,EAAE;MACzBd,UAAU,CAACyC,IAAI,CAAC,mKAAmK,CAAC;IACtL;EACF,CAAC,EAAE,CAAC3B,KAAK,CAAC,CAAC;EACX,IAAM4B,iBAAiB,GAAG5C,OAAO,CAAC,YAAM;IACtC,IAAI+B,UAAU,EAAE;MACd,OAAO,KAAC,KAAK;QAAC,MAAM,EAAEX,YAAa;QAAC,SAAS,EAAEsB,cAAc,GAAGvC,MAAM,CAAC0C,aAAa,GAAGtB;MAAkB,EAAG;IAC9G;EACF,CAAC,EAAE,CAACQ,UAAU,EAAEW,cAAc,EAAEtB,YAAY,EAAEG,iBAAiB,CAAC,CAAC;EACjE,IAAMuB,cAAc,GAAG9C,OAAO,CAAC,YAAM;IACnC,OAAO,CAAC+C,MAAM,CAACC,SAAS,EAAEN,cAAc,GAAGK,MAAM,CAACE,iBAAiB,GAAGV,SAAS,EAAErB,UAAU,CAAC;EAC9F,CAAC,EAAE,CAACwB,cAAc,EAAExB,UAAU,CAAC,CAAC;EAChC,IAAMgC,QAAQ,GAAGpD,WAAW,CAAC,YAAM;IACjC,IAAI6B,OAAO,EAAE;MACXD,OAAO,CAACyB,OAAO,CAACnC,KAAK,CAAC;IACxB,CAAC,MAAM;MACLU,OAAO,CAACyB,OAAO,CAAC,OAAOnC,KAAK,KAAK,QAAQ,IAAIU,OAAO,CAAC0B,WAAW,GAAGpC,KAAK,GAAG;QACzEA,KAAK,EAALA,KAAK;QACLC,KAAK,EAAEe;MACT,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACL,OAAO,EAAEX,KAAK,EAAEU,OAAO,CAACyB,OAAO,CAAC,CAAC;EACrC,IAAME,gBAAgB,GAAGvD,WAAW,CAAC,YAAa;IAAA,kCAATwD,IAAI;MAAJA,IAAI;IAAA;IAC3C5D,OAAO,gBAACgC,OAAO,EAAE,kBAAkB,SAAK4B,IAAI,EAAC;EAC/C,CAAC,EAAE,EAAE,CAAC;EACN,IAAMC,WAAW,GAAG,SAAdA,WAAW,GAAS;IACxB,OAAO,MAAC,IAAI;MAAC,KAAK,EAAER,MAAM,CAACS,SAAU;MAAC,IAAI;MAAC,GAAG;MAAC,MAAM;MAAC,OAAO;MAAA,WACzD,KAAC,IAAI;QAAC,aAAa,EAAE,CAAE;QAAC,KAAK,EAAEV,cAAe;QAAA,UAC3Cd;MAAS,EACL,EACNY,iBAAiB;IAAA,EACb;EACX,CAAC;EACD,OAAO,KAAC,gBAAgB;IAAC,aAAa,EAAE,GAAI;IAAC,OAAO,EAAEM,QAAS;IAAC,QAAQ,EAAEnB,UAAU,GAAGsB,gBAAgB,GAAGd,SAAU;IAAC,QAAQ,EAAEG,cAAe;IAAC,MAAM,EAAEjB,MAAO;IAAC,YAAY,EAAE;EAAE,GAAKW,kBAAkB;IAAA,UACjMR,gBAAgB,GAAGA,gBAAgB,CAACZ,KAAK,kCACvCD,KAAK;MACRgB,UAAU,EAAVA,UAAU;MACVW,cAAc,EAAdA;IAAc,IACbV,SAAS,CAAC,GAAGuB,WAAW;EAAE,GACV;AACvB,CAAC;AACD,IAAMR,MAAM,GAAGU,UAAU,CAACC,MAAM,CAAC;EAC/BF,SAAS,EAAE;IACTG,MAAM,EAAE,IAAI;IACZC,iBAAiB,EAAE,EAAE;IACrBC,WAAW,EAAE1D,MAAM,CAAC2D,eAAe;IACnCC,iBAAiB,EAAE;EACrB,CAAC;EACDf,SAAS,kCACJ5C,UAAU,CAAC4D,MAAM;IACpBC,KAAK,EAAE9D,MAAM,CAAC+D,YAAY;IAC1BC,IAAI,EAAE,CAAC;IACPC,SAAS,EAAE;EAAM,EAClB;EACDnB,iBAAiB,EAAE;IACjBgB,KAAK,EAAE9D,MAAM,CAACkE;EAChB;AACF,CAAC,CAAC;AACFvD,UAAU,CAACwD,WAAW,GAAG,aAAa;AACtC,eAAexD,UAAU"},"metadata":{},"sourceType":"module"}